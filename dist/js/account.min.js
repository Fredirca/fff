var loginBtn=document.querySelector("#login-btn"),logoutBtn=document.querySelector("#logout-btn"),loggedIn=document.querySelector(".user__logged-out"),loggedOut=document.querySelector(".user__logged-in"),loginBtnMobile=document.querySelector("#login-btn-mobile"),logoutBtnMobile=document.querySelector("#logout-btn-mobile"),loggedInMobile=document.querySelector(".user-mobile__logged-out-mobile"),loggedOutMobile=document.querySelector(".user-mobile__logged-in-mobile"),loginPopup=document.querySelector(".login-popup"),loginPopupBackBtn=document.querySelector(".login-popup__icon"),loginPopupImg=document.querySelector("#login-img"),loginPopupNickname=document.querySelector("#login-nickname"),loginPopupSubmitBtn=document.querySelector(".login-popup__btn"),nickname=document.querySelector(".user__name"),avatar=document.querySelector(".user__avatar"),nicknameMobile=document.querySelector(".user-mobile__name"),avatarMobile=document.querySelector(".user-mobile__avatar"),profileMobile=document.querySelector(".user-mobile__top"),addListeners=function(){loginBtn.addEventListener("click",loginToAccount),logoutBtn.addEventListener("click",logoutFromAccount),loginBtnMobile.addEventListener("click",loginToAccount),logoutBtnMobile.addEventListener("click",logoutFromAccount),loginPopupBackBtn.addEventListener("click",loginToAccount),loginPopupSubmitBtn.addEventListener("click",createAccount),profileMobile.addEventListener("click",changeSiteToProfile)},checkIfUserCreatedAccount=function(){null===localStorage.getItem("createdAccount")||NaN===localStorage.getItem("createdAccount")?(loggedIn.classList.remove("hidden"),loggedOut.classList.add("hidden"),loggedInMobile.classList.remove("hidden"),loggedOutMobile.classList.add("hidden")):(loggedIn.classList.add("hidden"),loggedOut.classList.remove("hidden"),loggedInMobile.classList.add("hidden"),loggedOutMobile.classList.remove("hidden"),avatar.setAttribute("src",localStorage.getItem("avatar")),nickname.textContent=localStorage.getItem("nickname"),avatarMobile.setAttribute("src",localStorage.getItem("avatar")),nicknameMobile.textContent=localStorage.getItem("nickname")),1==localStorage.getItem("createdAccount")&&(null!==localStorage.getItem("battlesWon")&&NaN!==localStorage.getItem("battlesWon")||localStorage.setItem("battlesWon",0),null!==localStorage.getItem("casesOpened")&&NaN!==localStorage.getItem("casesOpened")||localStorage.setItem("casesOpened",0),null!==localStorage.getItem("upgradesDone")&&NaN!==localStorage.getItem("upgradesDone")||localStorage.setItem("upgradesDone",0),null!==localStorage.getItem("rouletteWon")&&NaN!==localStorage.getItem("rouletteWon")||localStorage.setItem("rouletteWon",0),null!==localStorage.getItem("crashWon")&&NaN!==localStorage.getItem("crashWon")||localStorage.setItem("crashWon",0),null!==localStorage.getItem("jackpotWon")&&NaN!==localStorage.getItem("jackpotWon")||localStorage.setItem("jackpotWon",0),null!==localStorage.getItem("coinflipWon")&&NaN!==localStorage.getItem("coinflipWon")||localStorage.setItem("coinflipWon",0),null!==localStorage.getItem("saperWon")&&NaN!==localStorage.getItem("saperWon")||localStorage.setItem("saperWon",0))},loginToAccount=function(){"1"===localStorage.getItem("createdAccount")?(loginPopup.classList.add("hidden"),logoutFromAccount()):loginPopup.classList.contains("hidden")?(loginPopup.classList.toggle("hidden"),loginPopup.classList.remove("hide-login")):(loginPopup.classList.add("hide-login"),setTimeout(function(){loginPopup.classList.remove("hide-login"),loginPopup.classList.toggle("hidden")},500))},logoutFromAccount=function(){loggedIn.classList.toggle("hidden"),loggedOut.classList.toggle("hidden"),loggedInMobile.classList.toggle("hidden"),loggedOutMobile.classList.toggle("hidden")},createAccount=function(){""!==loginPopupImg.value&&""!==loginPopupNickname.value&&(localStorage.setItem("createdAccount",1),localStorage.setItem("avatar","".concat(loginPopupImg.value)),localStorage.setItem("nickname","".concat(loginPopupNickname.value)),localStorage.setItem("battlesWon",0),localStorage.setItem("casesOpened",0),localStorage.setItem("upgradesDone",0),localStorage.setItem("rouletteWon",0),localStorage.setItem("crashWon",0),localStorage.setItem("jackpotWon",0),localStorage.setItem("coinflipWon",0),localStorage.setItem("saperWon",0),loginToAccount(),checkIfUserCreatedAccount())},changeSiteToProfile=function(){"index"===document.body.id?open("./diff/profile.html","_self"):open("../diff/profile.html","_self")};addListeners(),checkIfUserCreatedAccount();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjY291bnQuanMiXSwibmFtZXMiOlsibG9naW5CdG4iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJsb2dvdXRCdG4iLCJsb2dnZWRJbiIsImxvZ2dlZE91dCIsImxvZ2luQnRuTW9iaWxlIiwibG9nZ2VkT3V0TW9iaWxlIiwibG9naW5Qb3B1cEltZyIsImxvZ2luUG9wdXBOaWNrbmFtZSIsImxvZ2luUG9wdXBTdWJtaXRCdG4iLCJuaWNrbmFtZSIsImF2YXRhciIsIm5pY2tuYW1lTW9iaWxlIiwiYXZhdGFyTW9iaWxlIiwicHJvZmlsZU1vYmlsZSIsImFkZExpc3RlbmVycyIsImFkZEV2ZW50TGlzdGVuZXIiLCJsb2dpblRvQWNjb3VudCIsImxvZ291dEJ0bk1vYmlsZSIsImxvZ291dEZyb21BY2NvdW50IiwibG9naW5Qb3B1cEJhY2tCdG4iLCJjcmVhdGVBY2NvdW50IiwiY2hhbmdlU2l0ZVRvUHJvZmlsZSIsImNoZWNrSWZVc2VyQ3JlYXRlZEFjY291bnQiLCJsb2NhbFN0b3JhZ2UiLCJsb2dnZWRJbk1vYmlsZSIsInJlbW92ZSIsImdldEl0ZW0iLCJOYU4iLCJjbGFzc0xpc3QiLCJhZGQiLCJzZXRBdHRyaWJ1dGUiLCJ0ZXh0Q29udGVudCIsInNldEl0ZW0iLCJib2R5IiwibG9naW5Qb3B1cCIsImNvbnRhaW5zIiwidG9nZ2xlIiwidmFsdWUiLCJjb25jYXQiLCJpZCIsIm9wZW4iXSwibWFwcGluZ3MiOiJBQUFBLElBQU1BLFNBQVdDLFNBQVNDLGNBQWMsWUFBWSxFQUM5Q0MsVUFBWUYsU0FBU0MsY0FBYyxhQUFhLEVBRGhERixTQUFXQyxTQUFTQyxjQUFjLG1CQUFhLEVBQy9DQyxVQUFZRixTQUFTQyxjQUFjLGtCQUFjLEVBQ2pERSxlQUFtQkgsU0FBQ0MsY0FBYyxtQkFBb0IsRUFDdERHLGdCQUFvQkosU0FBQ0MsY0FBYyxvQkFBbUIsRUFDdERJLGVBQWlCTCxTQUFTQyxjQUNoQyxpQ0FDQSxFQUdNSyxnQkFBa0JOLFNBQVNDLGNBR2pDLGdD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LEVBQ2ZNLDBCQUEwQixFQUU1QixFQUVNRCxvQkFBc0IsV0FDRixVQUFyQnRCLFNBQVNrQyxLQUFLTSxHQUNqQkMsS0FBSyxzQkFBdUIsT0FBTyxFQUVuQ0EsS0FBSyx1QkFBd0IsT0FBTyxDQUV0QyxFQUVBMUIsYUFBYSxFQUNiUSwwQkFBMEIiLCJmaWxlIjoiYWNjb3VudC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBsb2dpbkJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbG9naW4tYnRuXCIpO1xyXG5jb25zdCBsb2dvdXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2xvZ291dC1idG5cIik7XHJcbmNvbnN0IGxvZ2dlZEluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi51c2VyX19sb2dnZWQtb3V0XCIpO1xyXG5jb25zdCBsb2dnZWRPdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnVzZXJfX2xvZ2dlZC1pblwiKTtcclxuY29uc3QgbG9naW5CdG5Nb2JpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2xvZ2luLWJ0bi1tb2JpbGVcIik7XHJcbmNvbnN0IGxvZ291dEJ0bk1vYmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbG9nb3V0LWJ0bi1tb2JpbGVcIik7XHJcbmNvbnN0IGxvZ2dlZEluTW9iaWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuXHRcIi51c2VyLW1vYmlsZV9fbG9nZ2VkLW91dC1tb2JpbGVcIlxyXG4pO1xyXG5jb25zdCBsb2dnZWRPdXRNb2JpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG5cdFwiLnVzZXItbW9iaWxlX19sb2dnZWQtaW4tbW9iaWxlXCJcclxuKTtcclxuY29uc3QgbG9naW5Qb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubG9naW4tcG9wdXBcIik7XHJcbmNvbnN0IGxvZ2luUG9wdXBCYWNrQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5sb2dpbi1wb3B1cF9faWNvblwiKTtcclxuY29uc3QgbG9naW5Qb3B1cEltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbG9naW4taW1nXCIpO1xyXG5jb25zdCBsb2dpblBvcHVwTmlja25hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2xvZ2luLW5pY2tuYW1lXCIpO1xyXG5jb25zdCBsb2dpblBvcHVwU3VibWl0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5sb2dpbi1wb3B1cF9fYnRuXCIpO1xyXG5jb25zdCBuaWNrbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudXNlcl9fbmFtZVwiKTtcclxuY29uc3QgYXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi51c2VyX19hdmF0YXJcIik7XHJcbmNvbnN0IG5pY2tuYW1lTW9iaWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi51c2VyLW1vYmlsZV9fbmFtZVwiKTtcclxuY29uc3QgYXZhdGFyTW9iaWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi51c2VyLW1vYmlsZV9fYXZhdGFyXCIpO1xyXG5jb25zdCBwcm9maWxlTW9iaWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi51c2VyLW1vYmlsZV9fdG9wXCIpO1xyXG5cclxuY29uc3QgYWRkTGlzdGVuZXJzID0gKCkgPT4ge1xyXG5cdGxvZ2luQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBsb2dpblRvQWNjb3VudCk7XHJcblx0bG9nb3V0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBsb2dvdXRGcm9tQWNjb3VudCk7XHJcblx0bG9naW5CdG5Nb2JpbGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGxvZ2luVG9BY2NvdW50KTtcclxuXHRsb2dvdXRCdG5Nb2JpbGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGxvZ291dEZyb21BY2NvdW50KTtcclxuXHRsb2dpblBvcHVwQmFja0J0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgbG9naW5Ub0FjY291bnQpO1xyXG5cdGxvZ2luUG9wdXBTdWJtaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNyZWF0ZUFjY291bnQpO1xyXG5cdHByb2ZpbGVNb2JpbGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNoYW5nZVNpdGVUb1Byb2ZpbGUpO1xyXG59O1xyXG5cclxuY29uc3QgY2hlY2tJZlVzZXJDcmVhdGVkQWNjb3VudCA9ICgpID0+IHtcclxuXHRpZiAoXHJcblx0XHRsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImNyZWF0ZWRBY2NvdW50XCIpID09PSBudWxsIHx8XHJcblx0XHRsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImNyZWF0ZWRBY2NvdW50XCIpID09PSBOYU5cclxuXHQpIHtcclxuXHRcdGxvZ2dlZEluLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcblx0XHRsb2dnZWRPdXQuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuXHRcdGxvZ2dlZEluTW9iaWxlLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcblx0XHRsb2dnZWRPdXRNb2JpbGUuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0bG9nZ2VkSW4uY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuXHRcdGxvZ2dlZE91dC5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xyXG5cdFx0bG9nZ2VkSW5Nb2JpbGUuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuXHRcdGxvZ2dlZE91dE1vYmlsZS5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xyXG5cdFx0YXZhdGFyLnNldEF0dHJpYnV0ZShcInNyY1wiLCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImF2YXRhclwiKSk7XHJcblx0XHRuaWNrbmFtZS50ZXh0Q29udGVudCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwibmlja25hbWVcIik7XHJcblx0XHRhdmF0YXJNb2JpbGUuc2V0QXR0cmlidXRlKFwic3JjXCIsIGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiYXZhdGFyXCIpKTtcclxuXHRcdG5pY2tuYW1lTW9iaWxlLnRleHRDb250ZW50ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJuaWNrbmFtZVwiKTtcclxuXHR9XHJcblxyXG5cdGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImNyZWF0ZWRBY2NvdW50XCIpID09IDEpIHtcclxuXHRcdGlmIChcclxuXHRcdFx0bG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJiYXR0bGVzV29uXCIpID09PSBudWxsIHx8XHJcblx0XHRcdGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiYmF0dGxlc1dvblwiKSA9PT0gTmFOXHJcblx0XHQpIHtcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiYmF0dGxlc1dvblwiLCAwKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChcclxuXHRcdFx0bG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJjYXNlc09wZW5lZFwiKSA9PT0gbnVsbCB8fFxyXG5cdFx0XHRsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImNhc2VzT3BlbmVkXCIpID09PSBOYU5cclxuXHRcdCkge1xyXG5cdFx0XHR7XHJcblx0XHRcdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJjYXNlc09wZW5lZFwiLCAwKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChcclxuXHRcdFx0bG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ1cGdyYWRlc0RvbmVcIikgPT09IG51bGwgfHxcclxuXHRcdFx0bG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ1cGdyYWRlc0RvbmVcIikgPT09IE5hTlxyXG5cdFx0KSB7XHJcblx0XHRcdHtcclxuXHRcdFx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInVwZ3JhZGVzRG9uZVwiLCAwKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChcclxuXHRcdFx0bG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJyb3VsZXR0ZVdvblwiKSA9PT0gbnVsbCB8fFxyXG5cdFx0XHRsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInJvdWxldHRlV29uXCIpID09PSBOYU5cclxuXHRcdCkge1xyXG5cdFx0XHR7XHJcblx0XHRcdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJyb3VsZXR0ZVdvblwiLCAwKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChcclxuXHRcdFx0bG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJjcmFzaFdvblwiKSA9PT0gbnVsbCB8fFxyXG5cdFx0XHRsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImNyYXNoV29uXCIpID09PSBOYU5cclxuXHRcdCkge1xyXG5cdFx0XHR7XHJcblx0XHRcdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJjcmFzaFdvblwiLCAwKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChcclxuXHRcdFx0bG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJqYWNrcG90V29uXCIpID09PSBudWxsIHx8XHJcblx0XHRcdGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiamFja3BvdFdvblwiKSA9PT0gTmFOXHJcblx0XHQpIHtcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiamFja3BvdFdvblwiLCAwKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChcclxuXHRcdFx0bG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJjb2luZmxpcFdvblwiKSA9PT0gbnVsbCB8fFxyXG5cdFx0XHRsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImNvaW5mbGlwV29uXCIpID09PSBOYU5cclxuXHRcdCkge1xyXG5cdFx0XHR7XHJcblx0XHRcdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJjb2luZmxpcFdvblwiLCAwKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRpZiAoXHJcblx0XHRcdGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwic2FwZXJXb25cIikgPT09IG51bGwgfHxcclxuXHRcdFx0bG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJzYXBlcldvblwiKSA9PT0gTmFOXHJcblx0XHQpIHtcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwic2FwZXJXb25cIiwgMCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBsb2dpblRvQWNjb3VudCA9ICgpID0+IHtcclxuXHRpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJjcmVhdGVkQWNjb3VudFwiKSA9PT0gXCIxXCIpIHtcclxuXHRcdGxvZ2luUG9wdXAuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuXHRcdGxvZ291dEZyb21BY2NvdW50KCk7XHJcblx0fSBlbHNlIHtcclxuXHRcdGlmICghbG9naW5Qb3B1cC5jbGFzc0xpc3QuY29udGFpbnMoXCJoaWRkZW5cIikpIHtcclxuXHRcdFx0bG9naW5Qb3B1cC5jbGFzc0xpc3QuYWRkKFwiaGlkZS1sb2dpblwiKTtcclxuXHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0bG9naW5Qb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZS1sb2dpblwiKTtcclxuXHRcdFx0XHRsb2dpblBvcHVwLmNsYXNzTGlzdC50b2dnbGUoXCJoaWRkZW5cIik7XHJcblx0XHRcdH0sIDUwMCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRsb2dpblBvcHVwLmNsYXNzTGlzdC50b2dnbGUoXCJoaWRkZW5cIik7XHJcblx0XHRcdGxvZ2luUG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcImhpZGUtbG9naW5cIik7XHJcblx0XHR9XHJcblx0fVxyXG59O1xyXG5cclxuY29uc3QgbG9nb3V0RnJvbUFjY291bnQgPSAoKSA9PiB7XHJcblx0bG9nZ2VkSW4uY2xhc3NMaXN0LnRvZ2dsZShcImhpZGRlblwiKTtcclxuXHRsb2dnZWRPdXQuY2xhc3NMaXN0LnRvZ2dsZShcImhpZGRlblwiKTtcclxuXHRsb2dnZWRJbk1vYmlsZS5jbGFzc0xpc3QudG9nZ2xlKFwiaGlkZGVuXCIpO1xyXG5cdGxvZ2dlZE91dE1vYmlsZS5jbGFzc0xpc3QudG9nZ2xlKFwiaGlkZGVuXCIpO1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlQWNjb3VudCA9ICgpID0+IHtcclxuXHRpZiAobG9naW5Qb3B1cEltZy52YWx1ZSAhPT0gXCJcIiAmJiBsb2dpblBvcHVwTmlja25hbWUudmFsdWUgIT09IFwiXCIpIHtcclxuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiY3JlYXRlZEFjY291bnRcIiwgMSk7XHJcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImF2YXRhclwiLCBgJHtsb2dpblBvcHVwSW1nLnZhbHVlfWApO1xyXG5cdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJuaWNrbmFtZVwiLCBgJHtsb2dpblBvcHVwTmlja25hbWUudmFsdWV9YCk7XHJcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImJhdHRsZXNXb25cIiwgMCk7XHJcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImNhc2VzT3BlbmVkXCIsIDApO1xyXG5cdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ1cGdyYWRlc0RvbmVcIiwgMCk7XHJcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInJvdWxldHRlV29uXCIsIDApO1xyXG5cdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJjcmFzaFdvblwiLCAwKTtcclxuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiamFja3BvdFdvblwiLCAwKTtcclxuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiY29pbmZsaXBXb25cIiwgMCk7XHJcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInNhcGVyV29uXCIsIDApO1xyXG5cdFx0bG9naW5Ub0FjY291bnQoKTtcclxuXHRcdGNoZWNrSWZVc2VyQ3JlYXRlZEFjY291bnQoKTtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBjaGFuZ2VTaXRlVG9Qcm9maWxlID0gKCkgPT4ge1xyXG5cdGlmIChkb2N1bWVudC5ib2R5LmlkID09PSBcImluZGV4XCIpIHtcclxuXHRcdG9wZW4oXCIuL2RpZmYvcHJvZmlsZS5odG1sXCIsIFwiX3NlbGZcIik7XHJcblx0fSBlbHNlIHtcclxuXHRcdG9wZW4oXCIuLi9kaWZmL3Byb2ZpbGUuaHRtbFwiLCBcIl9zZWxmXCIpO1xyXG5cdH1cclxufTtcclxuXHJcbmFkZExpc3RlbmVycygpO1xyXG5jaGVja0lmVXNlckNyZWF0ZWRBY2NvdW50KCk7XHJcbiJdfQ==
