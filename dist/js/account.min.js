var loginBtn=document.querySelector("#login-btn"),logoutBtn=document.querySelector("#logout-btn"),loggedIn=document.querySelector(".user__logged-out"),loggedOut=document.querySelector(".user__logged-in"),loginBtnMobile=document.querySelector("#login-btn-mobile"),logoutBtnMobile=document.querySelector("#logout-btn-mobile"),loggedInMobile=document.querySelector(".user-mobile__logged-out-mobile"),loggedOutMobile=document.querySelector(".user-mobile__logged-in-mobile"),loginPopup=document.querySelector(".login-popup"),loginPopupBackBtn=document.querySelector(".login-popup__icon"),loginPopupImg=document.querySelector("#login-img"),loginPopupNickname=document.querySelector("#login-nickname"),loginPopupSubmitBtn=document.querySelector(".login-popup__btn"),nickname=document.querySelector(".user__name"),avatar=document.querySelector(".user__avatar"),nicknameMobile=document.querySelector(".user-mobile__name"),avatarMobile=document.querySelector(".user-mobile__avatar"),profileMobile=document.querySelector(".user-mobile__top"),addListeners=function(){loginBtn.addEventListener("click",loginToAccount),logoutBtn.addEventListener("click",logoutFromAccount),loginBtnMobile.addEventListener("click",loginToAccount),logoutBtnMobile.addEventListener("click",logoutFromAccount),loginPopupBackBtn.addEventListener("click",loginToAccount),loginPopupSubmitBtn.addEventListener("click",createAccount),profileMobile.addEventListener("click",changeSiteToProfile)},checkIfUserCreatedAccount=function(){null===localStorage.getItem("createdAccount")||NaN===localStorage.getItem("createdAccount")?(loggedIn.classList.remove("hidden"),loggedOut.classList.add("hidden"),loggedInMobile.classList.remove("hidden"),loggedOutMobile.classList.add("hidden")):(loggedIn.classList.add("hidden"),loggedOut.classList.remove("hidden"),loggedInMobile.classList.add("hidden"),loggedOutMobile.classList.remove("hidden"),avatar.setAttribute("src",localStorage.getItem("avatar")),nickname.textContent=localStorage.getItem("nickname"),avatarMobile.setAttribute("src",localStorage.getItem("avatar")),nicknameMobile.textContent=localStorage.getItem("nickname")),1==localStorage.getItem("createdAccount")&&(null!==localStorage.getItem("battlesWon")&&NaN!==localStorage.getItem("battlesWon")||localStorage.setItem("battlesWon",0),null!==localStorage.getItem("casesOpened")&&NaN!==localStorage.getItem("casesOpened")||localStorage.setItem("casesOpened",0),null!==localStorage.getItem("upgradesDone")&&NaN!==localStorage.getItem("upgradesDone")||localStorage.setItem("upgradesDone",0),null!==localStorage.getItem("rouletteWon")&&NaN!==localStorage.getItem("rouletteWon")||localStorage.setItem("rouletteWon",0),null!==localStorage.getItem("crashWon")&&NaN!==localStorage.getItem("crashWon")||localStorage.setItem("crashWon",0),null!==localStorage.getItem("jackpotWon")&&NaN!==localStorage.getItem("jackpotWon")||localStorage.setItem("jackpotWon",0),null!==localStorage.getItem("coinflipWon")&&NaN!==localStorage.getItem("coinflipWon")||localStorage.setItem("coinflipWon",0),null!==localStorage.getItem("saperWon")&&NaN!==localStorage.getItem("saperWon")||localStorage.setItem("saperWon",0))},loginToAccount=function(){"1"===localStorage.getItem("createdAccount")?(loginPopup.classList.add("hidden"),logoutFromAccount()):loginPopup.classList.contains("hidden")?(loginPopup.classList.toggle("hidden"),loginPopup.classList.remove("hide-login")):(loginPopup.classList.add("hide-login"),setTimeout(function(){loginPopup.classList.remove("hide-login"),loginPopup.classList.toggle("hidden")},500))},logoutFromAccount=function(){loggedIn.classList.toggle("hidden"),loggedOut.classList.toggle("hidden"),loggedInMobile.classList.toggle("hidden"),loggedOutMobile.classList.toggle("hidden")},createAccount=function(){""!==loginPopupImg.value&&""!==loginPopupNickname.value&&(localStorage.setItem("createdAccount",1),localStorage.setItem("avatar","".concat(loginPopupImg.value)),localStorage.setItem("nickname","".concat(loginPopupNickname.value)),localStorage.setItem("battlesWon",0),localStorage.setItem("casesOpened",0),localStorage.setItem("upgradesDone",0),localStorage.setItem("rouletteWon",0),localStorage.setItem("crashWon",0),localStorage.setItem("jackpotWon",0),localStorage.setItem("coinflipWon",0),localStorage.setItem("saperWon",0),loginToAccount(),checkIfUserCreatedAccount())},changeSiteToProfile=function(){"index"===document.body.id?open("./diff/profile.html","_self"):open("../diff/profile.html","_self")};addListeners(),checkIfUserCreatedAccount();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjY291bnQuanMiXSwibmFtZXMiOlsibG9naW5CdG4iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJsb2dvdXRCdG4iLCJsb2dnZWRJbiIsImxvZ2dlZE91dCIsImxvZ2luQnRuTW9iaWxlIiwibG9nZ2VkT3V0TW9iaWxlIiwibG9naW5Qb3B1cEltZyIsImxvZ2luUG9wdXBOaWNrbmFtZSIsImxvZ2luUG9wdXBTdWJtaXRCdG4iLCJuaWNrbmFtZSIsImF2YXRhciIsIm5pY2tuYW1lTW9iaWxlIiwiYXZhdGFyTW9iaWxlIiwicHJvZmlsZU1vYmlsZSIsImFkZExpc3RlbmVycyIsImFkZEV2ZW50TGlzdGVuZXIiLCJsb2dpblRvQWNjb3VudCIsImxvZ291dEJ0bk1vYmlsZSIsImxvZ291dEZyb21BY2NvdW50IiwibG9naW5Qb3B1cEJhY2tCdG4iLCJjcmVhdGVBY2NvdW50IiwiY2hhbmdlU2l0ZVRvUHJvZmlsZSIsImNoZWNrSWZVc2VyQ3JlYXRlZEFjY291bnQiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiTmFOIiwiY2xhc3NMaXN0IiwiYWRkIiwibG9nZ2VkSW5Nb2JpbGUiLCJyZW1vdmUiLCJzZXRBdHRyaWJ1dGUiLCJ0ZXh0Q29udGVudCIsInNldEl0ZW0iLCJsb2dpblBvcHVwIiwiY29udGFpbnMiLCJ0b2dnbGUiLCJjb25jYXQiLCJib2R5Iiwic2V0VGltZW91dCIsIm9wZW4iLCJ2YWx1ZSIsImlkIl0sIm1hcHBpbmdzIjoiQUFBQSxJQUFNQSxTQUFXQyxTQUFTQyxjQUFjLFlBQVksRUFDOUNDLFVBQVlGLFNBQVNDLGNBQWMsYUFBYSxFQURoREYsU0FBV0MsU0FBU0MsY0FBYyxtQkFBYSxFQUMvQ0MsVUFBWUYsU0FBU0MsY0FBYyxrQkFBYyxFQUNqREUsZUFBbUJILFNBQUNDLGNBQWMsbUJBQW9CLEVBQ3RERyxnQkFBb0JKLFNBQUNDLGNBQWMsb0JBQW1CLEVBQ3RESSxlQUFpQkwsU0FBU0MsY0FDaEMsaUNBQ0EsRUFHTUssZ0JBQWtCTixT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LEVBQ2ZNLDBCQUEwQixFQUU1QixFQUVNRCxvQkFBc0IsV0FDRixVQUFyQnRCLFNBQVNzQyxLQUFLSSxHQUNqQkYsS0FBSyxzQkFBdUIsT0FBTyxFQUVuQ0EsS0FBSyx1QkFBd0IsT0FBTyxDQUV0QyxFQUVBekIsYUFBYSxFQUNiUSwwQkFBMEIiLCJmaWxlIjoiYWNjb3VudC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBsb2dpbkJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbG9naW4tYnRuXCIpO1xyXG5jb25zdCBsb2dvdXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2xvZ291dC1idG5cIik7XHJcbmNvbnN0IGxvZ2dlZEluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi51c2VyX19sb2dnZWQtb3V0XCIpO1xyXG5jb25zdCBsb2dnZWRPdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnVzZXJfX2xvZ2dlZC1pblwiKTtcclxuY29uc3QgbG9naW5CdG5Nb2JpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2xvZ2luLWJ0bi1tb2JpbGVcIik7XHJcbmNvbnN0IGxvZ291dEJ0bk1vYmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbG9nb3V0LWJ0bi1tb2JpbGVcIik7XHJcbmNvbnN0IGxvZ2dlZEluTW9iaWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuXHRcIi51c2VyLW1vYmlsZV9fbG9nZ2VkLW91dC1tb2JpbGVcIlxyXG4pO1xyXG5jb25zdCBsb2dnZWRPdXRNb2JpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG5cdFwiLnVzZXItbW9iaWxlX19sb2dnZWQtaW4tbW9iaWxlXCJcclxuKTtcclxuY29uc3QgbG9naW5Qb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubG9naW4tcG9wdXBcIik7XHJcbmNvbnN0IGxvZ2luUG9wdXBCYWNrQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5sb2dpbi1wb3B1cF9faWNvblwiKTtcclxuY29uc3QgbG9naW5Qb3B1cEltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbG9naW4taW1nXCIpO1xyXG5jb25zdCBsb2dpblBvcHVwTmlja25hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2xvZ2luLW5pY2tuYW1lXCIpO1xyXG5jb25zdCBsb2dpblBvcHVwU3VibWl0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5sb2dpbi1wb3B1cF9fYnRuXCIpO1xyXG5jb25zdCBuaWNrbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudXNlcl9fbmFtZVwiKTtcclxuY29uc3QgYXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi51c2VyX19hdmF0YXJcIik7XHJcbmNvbnN0IG5pY2tuYW1lTW9iaWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi51c2VyLW1vYmlsZV9fbmFtZVwiKTtcclxuY29uc3QgYXZhdGFyTW9iaWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi51c2VyLW1vYmlsZV9fYXZhdGFyXCIpO1xyXG5jb25zdCBwcm9maWxlTW9iaWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi51c2VyLW1vYmlsZV9fdG9wXCIpO1xyXG5cclxuY29uc3QgYWRkTGlzdGVuZXJzID0gKCkgPT4ge1xyXG5cdGxvZ2luQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBsb2dpblRvQWNjb3VudCk7XHJcblx0bG9nb3V0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBsb2dvdXRGcm9tQWNjb3VudCk7XHJcblx0bG9naW5CdG5Nb2JpbGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGxvZ2luVG9BY2NvdW50KTtcclxuXHRsb2dvdXRCdG5Nb2JpbGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGxvZ291dEZyb21BY2NvdW50KTtcclxuXHRsb2dpblBvcHVwQmFja0J0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgbG9naW5Ub0FjY291bnQpO1xyXG5cdGxvZ2luUG9wdXBTdWJtaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNyZWF0ZUFjY291bnQpO1xyXG5cdHByb2ZpbGVNb2JpbGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNoYW5nZVNpdGVUb1Byb2ZpbGUpO1xyXG59O1xyXG5cclxuY29uc3QgY2hlY2tJZlVzZXJDcmVhdGVkQWNjb3VudCA9ICgpID0+IHtcclxuXHQvLyBjaGVjayBpZiB1c2VyIGNyZWF0ZWQgYWNjb3VudFxyXG5cdC8vIGlmIGRpZG50IHRoZW4gc2hvdyB1cCBcInNpZ24gdXBcIiBib3hcclxuXHQvLyBpZiBkaWQgY3JlYXRlIGFjY291bnQgdGhlbiBhZGQgdmFsdWVzIHRvIHByb2ZpbGVcclxuXHRpZiAoXHJcblx0XHRsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImNyZWF0ZWRBY2NvdW50XCIpID09PSBudWxsIHx8XHJcblx0XHRsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImNyZWF0ZWRBY2NvdW50XCIpID09PSBOYU5cclxuXHQpIHtcclxuXHRcdGxvZ2dlZEluLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcblx0XHRsb2dnZWRPdXQuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuXHRcdGxvZ2dlZEluTW9iaWxlLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcblx0XHRsb2dnZWRPdXRNb2JpbGUuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0bG9nZ2VkSW4uY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuXHRcdGxvZ2dlZE91dC5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xyXG5cdFx0bG9nZ2VkSW5Nb2JpbGUuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuXHRcdGxvZ2dlZE91dE1vYmlsZS5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xyXG5cdFx0YXZhdGFyLnNldEF0dHJpYnV0ZShcInNyY1wiLCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImF2YXRhclwiKSk7XHJcblx0XHRuaWNrbmFtZS50ZXh0Q29udGVudCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwibmlja25hbWVcIik7XHJcblx0XHRhdmF0YXJNb2JpbGUuc2V0QXR0cmlidXRlKFwic3JjXCIsIGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiYXZhdGFyXCIpKTtcclxuXHRcdG5pY2tuYW1lTW9iaWxlLnRleHRDb250ZW50ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJuaWNrbmFtZVwiKTtcclxuXHR9XHJcblxyXG5cdC8vIGlmIHN0YXRzIGFyZSBub3QgYWRkZWQgYnV0IGFjY291bnQgaXMgY3JlYXRlZCB0aGVuIGNyZWF0ZSB0aGVtIChmaXhlcyBlcnJvciB0aGF0IGlmIHNvbWVvbmUgY3JhdGVkIGFjY291bnQgYmVmb3JlIHN0YXRzIHdlcmUgYWRkZWQgaXQgYWRkIGhpbSBzdGF0cylcclxuXHRpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJjcmVhdGVkQWNjb3VudFwiKSA9PSAxKSB7XHJcblx0XHRpZiAoXHJcblx0XHRcdGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiYmF0dGxlc1dvblwiKSA9PT0gbnVsbCB8fFxyXG5cdFx0XHRsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImJhdHRsZXNXb25cIikgPT09IE5hTlxyXG5cdFx0KSB7XHJcblx0XHRcdHtcclxuXHRcdFx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImJhdHRsZXNXb25cIiwgMCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoXHJcblx0XHRcdGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiY2FzZXNPcGVuZWRcIikgPT09IG51bGwgfHxcclxuXHRcdFx0bG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJjYXNlc09wZW5lZFwiKSA9PT0gTmFOXHJcblx0XHQpIHtcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiY2FzZXNPcGVuZWRcIiwgMCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoXHJcblx0XHRcdGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidXBncmFkZXNEb25lXCIpID09PSBudWxsIHx8XHJcblx0XHRcdGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidXBncmFkZXNEb25lXCIpID09PSBOYU5cclxuXHRcdCkge1xyXG5cdFx0XHR7XHJcblx0XHRcdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ1cGdyYWRlc0RvbmVcIiwgMCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoXHJcblx0XHRcdGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwicm91bGV0dGVXb25cIikgPT09IG51bGwgfHxcclxuXHRcdFx0bG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJyb3VsZXR0ZVdvblwiKSA9PT0gTmFOXHJcblx0XHQpIHtcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwicm91bGV0dGVXb25cIiwgMCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoXHJcblx0XHRcdGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiY3Jhc2hXb25cIikgPT09IG51bGwgfHxcclxuXHRcdFx0bG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJjcmFzaFdvblwiKSA9PT0gTmFOXHJcblx0XHQpIHtcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiY3Jhc2hXb25cIiwgMCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoXHJcblx0XHRcdGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiamFja3BvdFdvblwiKSA9PT0gbnVsbCB8fFxyXG5cdFx0XHRsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImphY2twb3RXb25cIikgPT09IE5hTlxyXG5cdFx0KSB7XHJcblx0XHRcdHtcclxuXHRcdFx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImphY2twb3RXb25cIiwgMCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoXHJcblx0XHRcdGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiY29pbmZsaXBXb25cIikgPT09IG51bGwgfHxcclxuXHRcdFx0bG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJjb2luZmxpcFdvblwiKSA9PT0gTmFOXHJcblx0XHQpIHtcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiY29pbmZsaXBXb25cIiwgMCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0aWYgKFxyXG5cdFx0XHRsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInNhcGVyV29uXCIpID09PSBudWxsIHx8XHJcblx0XHRcdGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwic2FwZXJXb25cIikgPT09IE5hTlxyXG5cdFx0KSB7XHJcblx0XHRcdHtcclxuXHRcdFx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInNhcGVyV29uXCIsIDApO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59O1xyXG5cclxuY29uc3QgbG9naW5Ub0FjY291bnQgPSAoKSA9PiB7XHJcblx0Ly8gbG9naW4gdG8gYWNjb3VudFxyXG5cdGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImNyZWF0ZWRBY2NvdW50XCIpID09PSBcIjFcIikge1xyXG5cdFx0bG9naW5Qb3B1cC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG5cdFx0bG9nb3V0RnJvbUFjY291bnQoKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0aWYgKCFsb2dpblBvcHVwLmNsYXNzTGlzdC5jb250YWlucyhcImhpZGRlblwiKSkge1xyXG5cdFx0XHRsb2dpblBvcHVwLmNsYXNzTGlzdC5hZGQoXCJoaWRlLWxvZ2luXCIpO1xyXG5cdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRsb2dpblBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRlLWxvZ2luXCIpO1xyXG5cdFx0XHRcdGxvZ2luUG9wdXAuY2xhc3NMaXN0LnRvZ2dsZShcImhpZGRlblwiKTtcclxuXHRcdFx0fSwgNTAwKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGxvZ2luUG9wdXAuY2xhc3NMaXN0LnRvZ2dsZShcImhpZGRlblwiKTtcclxuXHRcdFx0bG9naW5Qb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZS1sb2dpblwiKTtcclxuXHRcdH1cclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBsb2dvdXRGcm9tQWNjb3VudCA9ICgpID0+IHtcclxuXHQvLyBsb2cgdXNlciBvdXRcclxuXHRsb2dnZWRJbi5jbGFzc0xpc3QudG9nZ2xlKFwiaGlkZGVuXCIpO1xyXG5cdGxvZ2dlZE91dC5jbGFzc0xpc3QudG9nZ2xlKFwiaGlkZGVuXCIpO1xyXG5cdGxvZ2dlZEluTW9iaWxlLmNsYXNzTGlzdC50b2dnbGUoXCJoaWRkZW5cIik7XHJcblx0bG9nZ2VkT3V0TW9iaWxlLmNsYXNzTGlzdC50b2dnbGUoXCJoaWRkZW5cIik7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVBY2NvdW50ID0gKCkgPT4geyBcclxuXHQvLyBjcmVhdGVzIGFjY291bnQgYW5kIHN0YXRzXHJcblx0aWYgKGxvZ2luUG9wdXBJbWcudmFsdWUgIT09IFwiXCIgJiYgbG9naW5Qb3B1cE5pY2tuYW1lLnZhbHVlICE9PSBcIlwiKSB7XHJcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImNyZWF0ZWRBY2NvdW50XCIsIDEpO1xyXG5cdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJhdmF0YXJcIiwgYCR7bG9naW5Qb3B1cEltZy52YWx1ZX1gKTtcclxuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwibmlja25hbWVcIiwgYCR7bG9naW5Qb3B1cE5pY2tuYW1lLnZhbHVlfWApO1xyXG5cdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJiYXR0bGVzV29uXCIsIDApO1xyXG5cdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJjYXNlc09wZW5lZFwiLCAwKTtcclxuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidXBncmFkZXNEb25lXCIsIDApO1xyXG5cdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJyb3VsZXR0ZVdvblwiLCAwKTtcclxuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiY3Jhc2hXb25cIiwgMCk7XHJcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImphY2twb3RXb25cIiwgMCk7XHJcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImNvaW5mbGlwV29uXCIsIDApO1xyXG5cdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJzYXBlcldvblwiLCAwKTtcclxuXHRcdGxvZ2luVG9BY2NvdW50KCk7XHJcblx0XHRjaGVja0lmVXNlckNyZWF0ZWRBY2NvdW50KCk7XHJcblx0fVxyXG59O1xyXG5cclxuY29uc3QgY2hhbmdlU2l0ZVRvUHJvZmlsZSA9ICgpID0+IHsgLy8gZGVwZW5kaW5nIG9uIHdoZXJlIHdlIGFyZSBjaGFuZ2UgbGlua1xyXG5cdGlmIChkb2N1bWVudC5ib2R5LmlkID09PSBcImluZGV4XCIpIHtcclxuXHRcdG9wZW4oXCIuL2RpZmYvcHJvZmlsZS5odG1sXCIsIFwiX3NlbGZcIik7XHJcblx0fSBlbHNlIHtcclxuXHRcdG9wZW4oXCIuLi9kaWZmL3Byb2ZpbGUuaHRtbFwiLCBcIl9zZWxmXCIpO1xyXG5cdH1cclxufTtcclxuXHJcbmFkZExpc3RlbmVycygpO1xyXG5jaGVja0lmVXNlckNyZWF0ZWRBY2NvdW50KCk7XHJcbiJdfQ==
