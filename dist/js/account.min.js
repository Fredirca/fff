var loginBtn=document.querySelector("#login-btn"),logoutBtn=document.querySelector("#logout-btn"),loggedIn=document.querySelector(".user__logged-out"),loggedOut=document.querySelector(".user__logged-in"),loginBtnMobile=document.querySelector("#login-btn-mobile"),logoutBtnMobile=document.querySelector("#logout-btn-mobile"),loggedInMobile=document.querySelector(".user-mobile__logged-out-mobile"),loggedOutMobile=document.querySelector(".user-mobile__logged-in-mobile"),loginPopup=document.querySelector(".login-popup"),loginPopupBackBtn=document.querySelector(".login-popup__icon"),loginPopupImg=document.querySelector("#login-img"),loginPopupNickname=document.querySelector("#login-nickname"),loginPopupSubmitBtn=document.querySelector(".login-popup__btn"),nickname=document.querySelector(".user__name"),avatar=document.querySelector(".user__avatar"),nicknameMobile=document.querySelector(".user-mobile__name"),avatarMobile=document.querySelector(".user-mobile__avatar"),profileMobile=document.querySelector(".user-mobile__top"),addListeners=function(){loginBtn.addEventListener("click",loginToAccount),logoutBtn.addEventListener("click",logoutFromAccount),loginBtnMobile.addEventListener("click",loginToAccount),logoutBtnMobile.addEventListener("click",logoutFromAccount),loginPopupBackBtn.addEventListener("click",loginToAccount),loginPopupSubmitBtn.addEventListener("click",createAccount),profileMobile.addEventListener("click",changeSiteToProfile)},checkIfUserCreatedAccount=function(){null===localStorage.getItem("createdAccount")||NaN===localStorage.getItem("createdAccount")?(loggedIn.classList.remove("hidden"),loggedOut.classList.add("hidden"),loggedInMobile.classList.remove("hidden"),loggedOutMobile.classList.add("hidden")):(loggedIn.classList.add("hidden"),loggedOut.classList.remove("hidden"),loggedInMobile.classList.add("hidden"),loggedOutMobile.classList.remove("hidden"),avatar.setAttribute("src",localStorage.getItem("avatar")),nickname.textContent=localStorage.getItem("nickname"),avatarMobile.setAttribute("src",localStorage.getItem("avatar")),nicknameMobile.textContent=localStorage.getItem("nickname")),1==localStorage.getItem("createdAccount")&&(null!==localStorage.getItem("battlesWon")&&NaN!==localStorage.getItem("battlesWon")||localStorage.setItem("battlesWon",0),null!==localStorage.getItem("casesOpened")&&NaN!==localStorage.getItem("casesOpened")||localStorage.setItem("casesOpened",0),null!==localStorage.getItem("upgradesDone")&&NaN!==localStorage.getItem("upgradesDone")||localStorage.setItem("upgradesDone",0),null!==localStorage.getItem("rouletteWon")&&NaN!==localStorage.getItem("rouletteWon")||localStorage.setItem("rouletteWon",0),null!==localStorage.getItem("crashWon")&&NaN!==localStorage.getItem("crashWon")||localStorage.setItem("crashWon",0),null!==localStorage.getItem("jackpotWon")&&NaN!==localStorage.getItem("jackpotWon")||localStorage.setItem("jackpotWon",0))},loginToAccount=function(){"1"===localStorage.getItem("createdAccount")?(loginPopup.classList.add("hidden"),logoutFromAccount()):loginPopup.classList.contains("hidden")?(loginPopup.classList.toggle("hidden"),loginPopup.classList.remove("hide-login")):(loginPopup.classList.add("hide-login"),setTimeout(function(){loginPopup.classList.remove("hide-login"),loginPopup.classList.toggle("hidden")},500))},logoutFromAccount=function(){loggedIn.classList.toggle("hidden"),loggedOut.classList.toggle("hidden"),loggedInMobile.classList.toggle("hidden"),loggedOutMobile.classList.toggle("hidden")},createAccount=function(){""!==loginPopupImg.value&&""!==loginPopupNickname.value&&(localStorage.setItem("createdAccount",1),localStorage.setItem("avatar","".concat(loginPopupImg.value)),localStorage.setItem("nickname","".concat(loginPopupNickname.value)),localStorage.setItem("battlesWon",0),localStorage.setItem("casesOpened",0),localStorage.setItem("upgradesDone",0),localStorage.setItem("rouletteWon",0),localStorage.setItem("crashWon",0),localStorage.setItem("jackpotWon",0),loginToAccount(),checkIfUserCreatedAccount())},changeSiteToProfile=function(){"index"===document.body.id?open("./diff/profile.html","_self"):open("../diff/profile.html","_self")};addListeners(),checkIfUserCreatedAccount();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjY291bnQuanMiXSwibmFtZXMiOlsibG9naW5CdG4iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJsb2dvdXRCdG4iLCJsb2dnZWRJbiIsImxvZ2dlZE91dCIsImxvZ2luQnRuTW9iaWxlIiwibG9nZ2VkT3V0TW9iaWxlIiwibG9naW5Qb3B1cEltZyIsImxvZ2luUG9wdXBOaWNrbmFtZSIsImxvZ2luUG9wdXBTdWJtaXRCdG4iLCJuaWNrbmFtZSIsImF2YXRhciIsIm5pY2tuYW1lTW9iaWxlIiwiYXZhdGFyTW9iaWxlIiwicHJvZmlsZU1vYmlsZSIsImFkZExpc3RlbmVycyIsImFkZEV2ZW50TGlzdGVuZXIiLCJsb2dpblRvQWNjb3VudCIsImxvZ291dEJ0bk1vYmlsZSIsImxvZ291dEZyb21BY2NvdW50IiwibG9naW5Qb3B1cEJhY2tCdG4iLCJjcmVhdGVBY2NvdW50IiwiY2hhbmdlU2l0ZVRvUHJvZmlsZSIsImNoZWNrSWZVc2VyQ3JlYXRlZEFjY291bnQiLCJsb2NhbFN0b3JhZ2UiLCJsb2dnZWRJbk1vYmlsZSIsInJlbW92ZSIsImdldEl0ZW0iLCJOYU4iLCJjbGFzc0xpc3QiLCJhZGQiLCJzZXRBdHRyaWJ1dGUiLCJ0ZXh0Q29udGVudCIsInNldEl0ZW0iLCJsb2dpblBvcHVwIiwiY29udGFpbnMiLCJjb25jYXQiLCJ0b2dnbGUiLCJzZXRUaW1lb3V0Iiwib3BlbiIsInZhbHVlIiwiYm9keSIsImlkIl0sIm1hcHBpbmdzIjoiQUFBQSxJQUFNQSxTQUFXQyxTQUFTQyxjQUFjLFlBQVksRUFDOUNDLFVBQVlGLFNBQVNDLGNBQWMsYUFBYSxFQURoREYsU0FBV0MsU0FBU0MsY0FBYyxtQkFBYSxFQUMvQ0MsVUFBWUYsU0FBU0MsY0FBYyxrQkFBYyxFQUNqREUsZUFBbUJILFNBQUNDLGNBQWMsbUJBQW9CLEVBQ3RERyxnQkFBb0JKLFNBQUNDLGNBQWMsb0JBQW1CLEVBQ3RESSxlQUFpQkwsU0FBU0MsY0FDaEMsaUNBQ0EsRUFHTUssZ0JBQWtCTixT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QUFRLE9BQUEsUUFBQSxFQUVEdEIsV0FBY2MsVUFBQUgsT0FBQSxZQUFBLElBUmRRLFdBQU1aLFVBQW1CUSxJQUFHLFlBQXRCUixFQUNMZ0IsV0FBWSxXQUNYQyxXQUFLVixVQUFBSCxPQUF1QixZQUFRLEVBQ3BDUSxXQUFNTCxVQUFBUSxPQUFBLFFBQUEsQ0FsQ0wsRUFtQ0RFLEdBQUssRUE3QlAsRUFFTXBCLGtCQUFvQixXQUN6QmhCLFNBQVMwQixVQUFVUSxPQUFPLFFBQVEsRUFDbENqQyxVQUFVeUIsVUFBVVEsT0FBTyxRQUFRLEVBQ25DWixlQUFlSSxVQUFVUSxPQUFPLFFBQVEsRUFDeEMvQixnQkFBZ0J1QixVQUFVUSxPQUFPLFFBQVEsQ0FDMUMsRUFFTWhCLGNBQWdCLFdBQ08sS0FBeEJkLGNBQWNpQyxPQUE2QyxLQUE3QmhDLG1CQUFtQmdDLFFBQ3BEaEIsYUFBYVMsUUFBUSxpQkFBa0IsQ0FBQyxFQUN4Q1QsYUFBYVMsUUFBUSxTQUFRLEdBQUFHLE9BQUs3QixjQUFjaUMsS0FBSyxDQUFFLEVBQ3ZEaEIsYUFBYVMsUUFBUSxXQUFVLEdBQUFHLE9BQUs1QixtQkFBbUJnQyxLQUFLLENBQUUsRUFDOURoQixhQUFhUyxRQUFRLGFBQWMsQ0FBQyxFQUNwQ1QsYUFBYVMsUUFBUSxjQUFlLENBQUMsRUFDckNULGFBQWFTLFFBQVEsZUFBZ0IsQ0FBQyxFQUN0Q1QsYUFBYVMsUUFBUSxjQUFlLENBQUMsRUFDckNULGFBQWFTLFFBQVEsV0FBWSxDQUFDLEVBQ2xDVCxhQUFhUyxRQUFRLGFBQWMsQ0FBQyxFQUNwQ2hCLGVBQWUsRUFDZk0sMEJBQTBCLEVBRTVCLEVBRU1ELG9CQUFzQixXQUNGLFVBQXJCdEIsU0FBU3lDLEtBQUtDLEdBQ2pCSCxLQUFLLHNCQUF1QixPQUFPLEVBRW5DQSxLQUFLLHVCQUF3QixPQUFPLENBRXRDLEVBRUF4QixhQUFhLEVBQ2JRLDBCQUEwQiIsImZpbGUiOiJhY2NvdW50Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGxvZ2luQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNsb2dpbi1idG5cIik7XHJcbmNvbnN0IGxvZ291dEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbG9nb3V0LWJ0blwiKTtcclxuY29uc3QgbG9nZ2VkSW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnVzZXJfX2xvZ2dlZC1vdXRcIik7XHJcbmNvbnN0IGxvZ2dlZE91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudXNlcl9fbG9nZ2VkLWluXCIpO1xyXG5jb25zdCBsb2dpbkJ0bk1vYmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbG9naW4tYnRuLW1vYmlsZVwiKTtcclxuY29uc3QgbG9nb3V0QnRuTW9iaWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNsb2dvdXQtYnRuLW1vYmlsZVwiKTtcclxuY29uc3QgbG9nZ2VkSW5Nb2JpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG5cdFwiLnVzZXItbW9iaWxlX19sb2dnZWQtb3V0LW1vYmlsZVwiXHJcbik7XHJcbmNvbnN0IGxvZ2dlZE91dE1vYmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcblx0XCIudXNlci1tb2JpbGVfX2xvZ2dlZC1pbi1tb2JpbGVcIlxyXG4pO1xyXG5jb25zdCBsb2dpblBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5sb2dpbi1wb3B1cFwiKTtcclxuY29uc3QgbG9naW5Qb3B1cEJhY2tCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmxvZ2luLXBvcHVwX19pY29uXCIpO1xyXG5jb25zdCBsb2dpblBvcHVwSW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNsb2dpbi1pbWdcIik7XHJcbmNvbnN0IGxvZ2luUG9wdXBOaWNrbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbG9naW4tbmlja25hbWVcIik7XHJcbmNvbnN0IGxvZ2luUG9wdXBTdWJtaXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmxvZ2luLXBvcHVwX19idG5cIik7XHJcbmNvbnN0IG5pY2tuYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi51c2VyX19uYW1lXCIpO1xyXG5jb25zdCBhdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnVzZXJfX2F2YXRhclwiKTtcclxuY29uc3Qgbmlja25hbWVNb2JpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnVzZXItbW9iaWxlX19uYW1lXCIpO1xyXG5jb25zdCBhdmF0YXJNb2JpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnVzZXItbW9iaWxlX19hdmF0YXJcIik7XHJcbmNvbnN0IHByb2ZpbGVNb2JpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnVzZXItbW9iaWxlX190b3BcIik7XHJcblxyXG5jb25zdCBhZGRMaXN0ZW5lcnMgPSAoKSA9PiB7XHJcblx0bG9naW5CdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGxvZ2luVG9BY2NvdW50KTtcclxuXHRsb2dvdXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGxvZ291dEZyb21BY2NvdW50KTtcclxuXHRsb2dpbkJ0bk1vYmlsZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgbG9naW5Ub0FjY291bnQpO1xyXG5cdGxvZ291dEJ0bk1vYmlsZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgbG9nb3V0RnJvbUFjY291bnQpO1xyXG5cdGxvZ2luUG9wdXBCYWNrQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBsb2dpblRvQWNjb3VudCk7XHJcblx0bG9naW5Qb3B1cFN1Ym1pdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY3JlYXRlQWNjb3VudCk7XHJcblx0cHJvZmlsZU1vYmlsZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2hhbmdlU2l0ZVRvUHJvZmlsZSk7XHJcbn07XHJcblxyXG5jb25zdCBjaGVja0lmVXNlckNyZWF0ZWRBY2NvdW50ID0gKCkgPT4ge1xyXG5cdGlmIChcclxuXHRcdGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiY3JlYXRlZEFjY291bnRcIikgPT09IG51bGwgfHxcclxuXHRcdGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiY3JlYXRlZEFjY291bnRcIikgPT09IE5hTlxyXG5cdCkge1xyXG5cdFx0bG9nZ2VkSW4uY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcclxuXHRcdGxvZ2dlZE91dC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG5cdFx0bG9nZ2VkSW5Nb2JpbGUuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcclxuXHRcdGxvZ2dlZE91dE1vYmlsZS5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRsb2dnZWRJbi5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG5cdFx0bG9nZ2VkT3V0LmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcblx0XHRsb2dnZWRJbk1vYmlsZS5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG5cdFx0bG9nZ2VkT3V0TW9iaWxlLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcblx0XHRhdmF0YXIuc2V0QXR0cmlidXRlKFwic3JjXCIsIGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiYXZhdGFyXCIpKTtcclxuXHRcdG5pY2tuYW1lLnRleHRDb250ZW50ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJuaWNrbmFtZVwiKTtcclxuXHRcdGF2YXRhck1vYmlsZS5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJhdmF0YXJcIikpO1xyXG5cdFx0bmlja25hbWVNb2JpbGUudGV4dENvbnRlbnQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIm5pY2tuYW1lXCIpO1xyXG5cdH1cclxuXHJcblx0aWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiY3JlYXRlZEFjY291bnRcIikgPT0gMSkge1xyXG5cdFx0aWYgKFxyXG5cdFx0XHRsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImJhdHRsZXNXb25cIikgPT09IG51bGwgfHxcclxuXHRcdFx0bG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJiYXR0bGVzV29uXCIpID09PSBOYU5cclxuXHRcdCkge1xyXG5cdFx0XHR7XHJcblx0XHRcdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJiYXR0bGVzV29uXCIsIDApO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKFxyXG5cdFx0XHRsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImNhc2VzT3BlbmVkXCIpID09PSBudWxsIHx8XHJcblx0XHRcdGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiY2FzZXNPcGVuZWRcIikgPT09IE5hTlxyXG5cdFx0KSB7XHJcblx0XHRcdHtcclxuXHRcdFx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImNhc2VzT3BlbmVkXCIsIDApO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKFxyXG5cdFx0XHRsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInVwZ3JhZGVzRG9uZVwiKSA9PT0gbnVsbCB8fFxyXG5cdFx0XHRsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInVwZ3JhZGVzRG9uZVwiKSA9PT0gTmFOXHJcblx0XHQpIHtcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidXBncmFkZXNEb25lXCIsIDApO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKFxyXG5cdFx0XHRsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInJvdWxldHRlV29uXCIpID09PSBudWxsIHx8XHJcblx0XHRcdGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwicm91bGV0dGVXb25cIikgPT09IE5hTlxyXG5cdFx0KSB7XHJcblx0XHRcdHtcclxuXHRcdFx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInJvdWxldHRlV29uXCIsIDApO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKFxyXG5cdFx0XHRsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImNyYXNoV29uXCIpID09PSBudWxsIHx8XHJcblx0XHRcdGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiY3Jhc2hXb25cIikgPT09IE5hTlxyXG5cdFx0KSB7XHJcblx0XHRcdHtcclxuXHRcdFx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImNyYXNoV29uXCIsIDApO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKFxyXG5cdFx0XHRsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImphY2twb3RXb25cIikgPT09IG51bGwgfHxcclxuXHRcdFx0bG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJqYWNrcG90V29uXCIpID09PSBOYU5cclxuXHRcdCkge1xyXG5cdFx0XHR7XHJcblx0XHRcdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJqYWNrcG90V29uXCIsIDApO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59O1xyXG5cclxuY29uc3QgbG9naW5Ub0FjY291bnQgPSAoKSA9PiB7XHJcblx0aWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiY3JlYXRlZEFjY291bnRcIikgPT09IFwiMVwiKSB7XHJcblx0XHRsb2dpblBvcHVwLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcblx0XHRsb2dvdXRGcm9tQWNjb3VudCgpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRpZiAoIWxvZ2luUG9wdXAuY2xhc3NMaXN0LmNvbnRhaW5zKFwiaGlkZGVuXCIpKSB7XHJcblx0XHRcdGxvZ2luUG9wdXAuY2xhc3NMaXN0LmFkZChcImhpZGUtbG9naW5cIik7XHJcblx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdGxvZ2luUG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcImhpZGUtbG9naW5cIik7XHJcblx0XHRcdFx0bG9naW5Qb3B1cC5jbGFzc0xpc3QudG9nZ2xlKFwiaGlkZGVuXCIpO1xyXG5cdFx0XHR9LCA1MDApO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0bG9naW5Qb3B1cC5jbGFzc0xpc3QudG9nZ2xlKFwiaGlkZGVuXCIpO1xyXG5cdFx0XHRsb2dpblBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRlLWxvZ2luXCIpO1xyXG5cdFx0fVxyXG5cdH1cclxufTtcclxuXHJcbmNvbnN0IGxvZ291dEZyb21BY2NvdW50ID0gKCkgPT4ge1xyXG5cdGxvZ2dlZEluLmNsYXNzTGlzdC50b2dnbGUoXCJoaWRkZW5cIik7XHJcblx0bG9nZ2VkT3V0LmNsYXNzTGlzdC50b2dnbGUoXCJoaWRkZW5cIik7XHJcblx0bG9nZ2VkSW5Nb2JpbGUuY2xhc3NMaXN0LnRvZ2dsZShcImhpZGRlblwiKTtcclxuXHRsb2dnZWRPdXRNb2JpbGUuY2xhc3NMaXN0LnRvZ2dsZShcImhpZGRlblwiKTtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZUFjY291bnQgPSAoKSA9PiB7XHJcblx0aWYgKGxvZ2luUG9wdXBJbWcudmFsdWUgIT09IFwiXCIgJiYgbG9naW5Qb3B1cE5pY2tuYW1lLnZhbHVlICE9PSBcIlwiKSB7XHJcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImNyZWF0ZWRBY2NvdW50XCIsIDEpO1xyXG5cdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJhdmF0YXJcIiwgYCR7bG9naW5Qb3B1cEltZy52YWx1ZX1gKTtcclxuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwibmlja25hbWVcIiwgYCR7bG9naW5Qb3B1cE5pY2tuYW1lLnZhbHVlfWApO1xyXG5cdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJiYXR0bGVzV29uXCIsIDApO1xyXG5cdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJjYXNlc09wZW5lZFwiLCAwKTtcclxuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidXBncmFkZXNEb25lXCIsIDApO1xyXG5cdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJyb3VsZXR0ZVdvblwiLCAwKTtcclxuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiY3Jhc2hXb25cIiwgMCk7XHJcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImphY2twb3RXb25cIiwgMCk7XHJcblx0XHRsb2dpblRvQWNjb3VudCgpO1xyXG5cdFx0Y2hlY2tJZlVzZXJDcmVhdGVkQWNjb3VudCgpO1xyXG5cdH1cclxufTtcclxuXHJcbmNvbnN0IGNoYW5nZVNpdGVUb1Byb2ZpbGUgPSAoKSA9PiB7XHJcblx0aWYgKGRvY3VtZW50LmJvZHkuaWQgPT09IFwiaW5kZXhcIikge1xyXG5cdFx0b3BlbihcIi4vZGlmZi9wcm9maWxlLmh0bWxcIiwgXCJfc2VsZlwiKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0b3BlbihcIi4uL2RpZmYvcHJvZmlsZS5odG1sXCIsIFwiX3NlbGZcIik7XHJcblx0fVxyXG59O1xyXG5cclxuYWRkTGlzdGVuZXJzKCk7XHJcbmNoZWNrSWZVc2VyQ3JlYXRlZEFjY291bnQoKTtcclxuIl19
