var currentWinningItem,intervalId,items2={item0:{weapon:"AK-47",name:"AK-47 Gold Arabesque",skin:"Gold Arabesque",color:"red",imgDist:"../dist/img/weapons/rifles/ak-47/gold-arabesque.jpg",price:2780.22,id:50,dropPercent:1},item1:{weapon:"M4A4",name:"M4A4 Mainframe",skin:"Mainframe",color:"light-blue",imgDist:"../dist/img/weapons/rifles/m4a4/mainframe.jpg",price:.07,id:80,dropPercent:99}},spinBtn=document.querySelector(".spin"),caseItemsBox=document.querySelectorAll(".case__items"),countItemsAmount=Object.keys(items2).length,winPupup=document.querySelector(".win-popup"),sellBtn=document.querySelector(".win-popup__btn--sell"),takeBtn=document.querySelector(".win-popup__btn--take"),winningItemImg=document.querySelector(".win-popup__img"),winningItemName=document.querySelector(".win-popup__item-name"),winningItemPrice=document.querySelector(".win-popup__item-price"),winningItemBox=document.querySelector(".win-popup__container"),balanceAmount=document.querySelector(".user__balance--amount"),balanceAmountMobile=document.querySelector(".user-mobile__balance--amount"),caseAmountBtns=document.querySelectorAll(".case__button-amount"),backBtn=document.querySelector(".case__btn--back"),muteBtn=document.querySelector(".case__btn--mute"),allCases=document.querySelector(".case__allcases"),casePrice=30,casesAmount=1,winningItems=[],createInfoAboutItemsInChest=function(){var e=document.querySelector(".case__drop-box");for(i=0;i<countItemsAmount;i++){var t=document.createElement("div"),n=document.createElement("p"),a=document.createElement("img"),c=document.createElement("div"),s=document.createElement("div"),o=document.createElement("p"),l=document.createElement("p"),m=document.createElement("p");t.classList.add("case__drop"),t.classList.add(items2["item".concat(i)].color+"-drop2"),t.style.order="-"+items2["item".concat(i)].price.toFixed(0),n.classList.add("case__drop-percent"),a.classList.add("case__drop-img"),c.classList.add("case__drop-textbox"),s.classList.add("case__drop-textbox-left"),o.classList.add("case__drop-item"),l.classList.add("case__drop-skin"),l.classList.add(items2["item".concat(i)].color+"-text"),m.classList.add("case__drop-price"),a.setAttribute("src",items2["item".concat(i)].imgDist),a.setAttribute("alt",items2["item".concat(i)].name),n.textContent=items2["item".concat(i)].dropPercent+"%",o.textContent=items2["item".concat(i)].weapon,l.textContent=items2["item".concat(i)].skin,m.textContent=items2["item".concat(i)].price+"$",s.append(o,l),c.append(s,m),t.append(n,a,c),e.append(t)}},createItemsInChest=function(){document.querySelectorAll(".case__items").forEach(function(e){for(i=0;i<100;i++){var t=void 0,t=Math.floor(1e4*Math.random())<=99?0:1,n=document.createElement("div"),a=document.createElement("img"),c=document.createElement("p"),s=document.createElement("p");n.classList.add("case__item"),n.classList.add(items2["item".concat(t)].color+"-drop"),n.style.border="none",a.classList.add("case__img"),c.classList.add("case__item-name"),s.classList.add("case__skin-name"),s.classList.add(items2["item".concat(t)].color+"-text"),a.setAttribute("src",items2["item".concat(t)].imgDist),a.setAttribute("alt",items2["item".concat(t)].name),c.textContent=items2["item".concat(t)].weapon,s.textContent=items2["item".concat(t)].skin,n.id="item".concat(t),n.append(a,c,s),e.append(n)}})},setBtnText=function(){parseFloat(localStorage.getItem("Balance").slice(0,-1))>=casePrice?spinBtn.textContent="open ".concat(casePrice*casesAmount,".00$"):spinBtn.textContent="add balance"},spinCase=function(){var e,t=document.querySelectorAll(".case__items");parseFloat(localStorage.getItem("Balance").slice(0,-1))>=casePrice&&"spining"!==spinBtn.textContent?(e=new Audio("../dist/audio/open.mp3"),muteBtn.classList.contains("not-muted")&&e.play(),t.forEach(function(e){var t=Math.floor(5e3*Math.random()-1e4),n=(spinBtn.textContent="spining",parseInt(localStorage.getItem("casesOpened"))+1),n=(localStorage.setItem("casesOpened",n),(parseFloat(localStorage.getItem("Balance").slice(0,-1))-casePrice).toFixed(2));localStorage.setItem("Balance",n+"$"),setBalance(),e.style.left=t+"px",e.style.transition="left 5s ease",1===casesAmount&&(intervalId=setInterval(function(){var e,n,i,a=document.querySelector(".case__middle-point").getBoundingClientRect().x;e=document.querySelectorAll(".case__item"),n=null,i=1/0,e.forEach(function(e){e.firstElementChild.style.scale="1"}),e.forEach(function(e){var t=e.getBoundingClientRect().x+e.offsetWidth/2,t=Math.abs(t-a);t<i&&(i=t,n=e)}),n&&(n.firstElementChild.style.scale="0.9")},100)),setTimeout(function(){clearInterval(intervalId);var n=document.querySelector(".case__middle-point").getBoundingClientRect().x;e=document.querySelectorAll(".case__item"),i=null,a=1/0,e.forEach(function(e){var t=e.getBoundingClientRect().x+e.offsetWidth/2,t=Math.abs(t-n);t<a&&(a=t,i=e)});var i,a,e=i;e&&(winningItems.push(e),winningItemBox.classList.value="",winningItemBox.classList.add("win-popup__container","".concat(items2["".concat(e.id)].color+"-win")),winningItemImg.setAttribute("src",items2["".concat(e.id)].imgDist),winningItemImg.setAttribute("alt",items2["".concat(e.id)].name),winningItemName.textContent=items2["".concat(e.id)].name,winningItemPrice.textContent=items2["".concat(e.id)].price+"$",hideWinPopup())},5e3)})):"spining"!==spinBtn.textContent&&window.open("../diff/deposit.html","_self")},hideWinPopup=function(){1===casesAmount?winPupup.classList.toggle("hidden"):takeWinningItem(),setBtnText()},sellWinningItem=function(){var e=(parseFloat(localStorage.getItem("Balance").slice(0,-1))+parseFloat(winningItemPrice.textContent)).toFixed(2);localStorage.setItem("Balance",e+"$"),hideWinPopup(),refreshBalance(),resetBoxAnimation()},takeWinningItem=function(){for(i=0;i<winningItems.length;i++)null===localStorage.getItem("id"+items2["".concat(winningItems[i].id)].id)||NaN===localStorage.getItem("id"+items2["".concat(winningItems[i].id)].id)?localStorage.setItem("id"+items2["".concat(winningItems[i].id)].id,1):localStorage.setItem("id"+items2["".concat(winningItems[i].id)].id,parseInt(localStorage.getItem("id"+items2["".concat(winningItems[i].id)].id))+1);1===casesAmount&&hideWinPopup(),resetBoxAnimation()},refreshBalance=function(){balanceAmount.textContent=localStorage.getItem("Balance"),balanceAmountMobile.textContent=localStorage.getItem("Balance")},resetBoxAnimation=function(){document.querySelectorAll(".case__items").forEach(function(e){e.innerHTML="",e.style.transition="0.01s",e.style.left="0"}),winningItems=[],createItemsInChest()},goBackToMainSite=function(){window.open("../index.html","_self")},muteSound=function(){muteBtn.classList.toggle("not-muted"),muteBtn.classList.contains("not-muted")?(muteBtn.lastElementChild.style.display="none",muteBtn.firstElementChild.style.display="block"):(muteBtn.lastElementChild.style.display="block",muteBtn.firstElementChild.style.display="none")},createBoxes=function(){var e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div"),i=document.createElement("div"),a=document.createElement("div");e.classList.add("case__container"),t.classList.add("case__middle-point"),n.classList.add("case__middle-triangle"),i.classList.add("case__middle-triangle","case__middle-triangle--bottom"),a.classList.add("case__items"),e.append(t,n,i,a),allCases.append(e),createItemsInChest()};function setCasesAmount(){if("spining"!==spinBtn.textContent){switch(allCases.innerHTML="",this.id){case"1Case":casesAmount=1,createBoxes();break;case"2Case":casesAmount=2,createBoxes(),createBoxes();break;case"3Case":casesAmount=3,createBoxes(),createBoxes(),createBoxes();break;case"4Case":casesAmount=4,createBoxes(),createBoxes(),createBoxes(),createBoxes();break;case"5Case":casesAmount=5,createBoxes(),createBoxes(),createBoxes(),createBoxes(),createBoxes()}setBtnText()}}spinBtn.addEventListener("click",spinCase),takeBtn.addEventListener("click",takeWinningItem),sellBtn.addEventListener("click",sellWinningItem),backBtn.addEventListener("click",goBackToMainSite),muteBtn.addEventListener("click",muteSound),caseAmountBtns.forEach(function(e){e.addEventListener("click",setCasesAmount)}),createItemsInChest(),setBtnText(),createInfoAboutItemsInChest();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhc2VzLzFwcm9maXQuanMiXSwibmFtZXMiOlsiY2FzZXNBbW91bnQiLCJ3aW5uaW5nSXRlbXMiLCJpdGVtczIiLCJpdGVtMCIsIndlYXBvbiIsInNraW4iLCJjb2xvciIsImltZ0Rpc3QiLCJwcmljZSIsImlkIiwiZHJvcFBlcmNlbnQiLCJpdGVtMSIsInNwaW5CdG4iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjYXNlSXRlbXNCb3giLCJxdWVyeVNlbGVjdG9yQWxsIiwibGVuZ3RoIiwiY291bnRJdGVtc0Ftb3VudCIsIk9iamVjdCIsIndpblB1cHVwIiwic2VsbEJ0biIsInRha2VCdG4iLCJ3aW5uaW5nSXRlbUltZyIsIndpbm5pbmdJdGVtTmFtZSIsIndpbm5pbmdJdGVtUHJpY2UiLCJ3aW5uaW5nSXRlbUJveCIsImJhbGFuY2VBbW91bnQiLCJiYWNrQnRuIiwibXV0ZUJ0biIsImFsbENhc2VzIiwiY2FzZVByaWNlIiwiY3VycmVudFdpbm5pbmdJdGVtIiwiaW50ZXJ2YWxJZCIsImNyZWF0ZUluZm9BYm91dEl0ZW1zSW5DaGVzdCIsImkiLCJkcm9wQm94IiwiY3JlYXRlRWxlbWVudCIsImRyb3BJdGVtSW1nIiwiZHJvcEl0ZW1UZXh0Qm94IiwiZHJvcEl0ZW1UZXh0Qm94TGVmdCIsImRyb3BJdGVtTmFtZSIsImRyb3BJdGVtU2tpbiIsImRyb3BJdGVtUHJpY2UiLCJkcm9wSXRlbSIsImFkZCIsImNvbmNhdCIsImNsYXNzTGlzdCIsInRvRml4ZWQiLCJkcm9wSXRlbVBlcmNlbnQiLCJzZXRBdHRyaWJ1dGUiLCJ0ZXh0Q29udGVudCIsImFwcGVuZCIsImZvckVhY2giLCJyYW5kb21OdW1iZXIiLCJNYXRoIiwiY3JlYXRlSXRlbXNJbkNoZXN0IiwiaXRlbUltZyIsInJhbmRvbUl0ZW0iLCJpdGVtU2tpbk5hbWUiLCJib3JkZXIiLCJpdGVtSXRlbU5hbWUiLCJpdGVtIiwiYm94Iiwic2V0QnRuVGV4dCIsIm5hbWUiLCJzcGluQ2FzZSIsInBhcnNlRmxvYXQiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic2xpY2UiLCJob3dTdHJvbmdTcGluIiwiZmxvb3IiLCJyYW5kb20iLCJjYXNlc09wZW5lZFRvQWRkIiwic2V0QmFsYW5jZSIsInN0eWxlIiwic2V0SW50ZXJ2YWwiLCJyZWRMaW5lWCIsImNvbnRhaW5zIiwiY2FzZU9wZW5pbmdTb3VuZCIsInVwZGF0ZUNsb3Nlc3RJdGVtU2NhbGUiLCJjbG9zZXN0SXRlbSIsInBhcnNlSW50IiwiYmFsYW5jZUFmdGVyT3BlbmluZyIsIml0ZW1zIiwiY2xvc2VzdERpc3RhbmNlIiwibGVmdCIsInRyYW5zaXRpb24iLCJjbGVhckludGVydmFsIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwieCIsImZpcnN0RWxlbWVudENoaWxkIiwiSW5maW5pdHkiLCJkaXN0YW5jZSIsIml0ZW1DZW50ZXJYIiwib2Zmc2V0V2lkdGgiLCJhYnMiLCJzY2FsZSIsImhpZGVXaW5Qb3B1cCIsInNldFRpbWVvdXQiLCJ3aW5kb3ciLCJ0YWtlV2lubmluZ0l0ZW0iLCJzZWxsV2lubmluZ0l0ZW0iLCJjdXJyZW50QmFsYW5jZSIsIml0ZW1QcmljZSIsImhvd011Y2hUb0FkZFRvQmFsYW5jZSIsInJlZnJlc2hCYWxhbmNlIiwicmVzZXRCb3hBbmltYXRpb24iLCJ3aW5uaW5nSXRlbSIsInB1c2giLCJ2YWx1ZSIsImJhbGFuY2VBbW91bnRNb2JpbGUiLCJnb0JhY2tUb01haW5TaXRlIiwidG9nZ2xlIiwibGFzdEVsZW1lbnRDaGlsZCIsImRpc3BsYXkiLCJjcmVhdGVCb3hlcyIsImNhc2VJdGVtcyIsImNhc2VUcmlhbmdsZUJ0bSIsImNhc2VJdGVtIiwic2V0Q2FzZXNBbW91bnQiLCJOYU4iLCJpbm5lckhUTUwiLCJzZXRJdGVtIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNhc2VBbW91bnRCdG5zIiwiY2FzZVBvaW50IiwiY2FzZVRyaWFuZ2xlIiwidGhpcyIsIm11dGVTb3VuZCIsImJ0biJdLCJtYXBwaW5ncyI6IkFBQUEsSUEyQ0lBLG1C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Q1osSUFBSyxRQUNKVCxZQUFjLEVBQ2RxSCxZQUFZLEVBQ1osTUFDRCxJQUFLLFFBQ0pySCxZQUFjLEVBQ2RxSCxZQUFZLEVBQ1pBLFlBQVksRUFDWixNQUNELElBQUssUUFDSnJILFlBQWMsRUFDZHFILFlBQVksRUFDWkEsWUFBWSxFQUNaQSxZQUFZLEVBQ1osTUFDRCxJQUFLLFFBQ0pySCxZQUFjLEVBQ2RxSCxZQUFZLEVBQ1pBLFlBQVksRUFDWkEsWUFBWSxFQUNaQSxZQUFZLEVBQ1osTUFDRCxJQUFLLFFBQ0pySCxZQUFjLEVBQ2RxSCxZQUFZLEVBQ1pBLFlBQVksRUFDWkEsWUFBWSxFQUNaQSxZQUFZLEVBQ1pBLFlBQVksQ0FFZCxDQUVBckQsV0FBVyxDQUNaLENBQ0QsQ0FFQXBELFFBQVFpSCxpQkFBaUIsUUFBUzNELFFBQVEsRUFDMUM1QyxRQUFRdUcsaUJBQWlCLFFBQVN2QixlQUFlLEVBQ2pEakYsUUFBUXdHLGlCQUFpQixRQUFTdEIsZUFBZSxFQUNqRDNFLFFBQVFpRyxpQkFBaUIsUUFBU1osZ0JBQWdCLEVBQ2xEcEYsUUFBUWdHLGlCQUFpQixRQUFTSyxTQUFTLEVBRTNDSixlQUFlekUsUUFBUSxTQUFDOEUsR0FDdkJBLEVBQUlOLGlCQUFpQixRQUFTSixjQUFjLENBQzdDLENBQUMsRUFFRGpFLG1CQUFtQixFQUNuQlEsV0FBVyxFQUNYOUIsNEJBQTRCIiwiZmlsZSI6ImNhc2VzLzFwcm9maXQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgaXRlbXMyID0ge1xyXG5cdGl0ZW0wOiB7XHJcblx0XHR3ZWFwb246IFwiQUstNDdcIixcclxuXHRcdG5hbWU6IFwiQUstNDcgR29sZCBBcmFiZXNxdWVcIixcclxuXHRcdHNraW46IFwiR29sZCBBcmFiZXNxdWVcIixcclxuXHRcdGNvbG9yOiBcInJlZFwiLFxyXG5cdFx0aW1nRGlzdDogXCIuLi9kaXN0L2ltZy93ZWFwb25zL3JpZmxlcy9hay00Ny9nb2xkLWFyYWJlc3F1ZS5qcGdcIixcclxuXHRcdHByaWNlOiAyNzgwLjIyLFxyXG5cdFx0aWQ6IDUwLFxyXG5cdFx0ZHJvcFBlcmNlbnQ6IDEsXHJcblx0fSxcclxuXHRpdGVtMToge1xyXG5cdFx0d2VhcG9uOiBcIk00QTRcIixcclxuXHRcdG5hbWU6IFwiTTRBNCBNYWluZnJhbWVcIixcclxuXHRcdHNraW46IFwiTWFpbmZyYW1lXCIsXHJcblx0XHRjb2xvcjogXCJsaWdodC1ibHVlXCIsXHJcblx0XHRpbWdEaXN0OiBcIi4uL2Rpc3QvaW1nL3dlYXBvbnMvcmlmbGVzL200YTQvbWFpbmZyYW1lLmpwZ1wiLFxyXG5cdFx0cHJpY2U6IDAuMDcsXHJcblx0XHRpZDogODAsXHJcblx0XHRkcm9wUGVyY2VudDogOTksXHJcblx0fSxcclxufTtcclxuXHJcbmNvbnN0IHNwaW5CdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNwaW5cIik7XHJcbmNvbnN0IGNhc2VJdGVtc0JveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2FzZV9faXRlbXNcIik7XHJcbmNvbnN0IGNvdW50SXRlbXNBbW91bnQgPSBPYmplY3Qua2V5cyhpdGVtczIpLmxlbmd0aDtcclxuY29uc3Qgd2luUHVwdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndpbi1wb3B1cFwiKTtcclxuY29uc3Qgc2VsbEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIud2luLXBvcHVwX19idG4tLXNlbGxcIik7XHJcbmNvbnN0IHRha2VCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndpbi1wb3B1cF9fYnRuLS10YWtlXCIpO1xyXG5jb25zdCB3aW5uaW5nSXRlbUltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIud2luLXBvcHVwX19pbWdcIik7XHJcbmNvbnN0IHdpbm5pbmdJdGVtTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIud2luLXBvcHVwX19pdGVtLW5hbWVcIik7XHJcbmNvbnN0IHdpbm5pbmdJdGVtUHJpY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndpbi1wb3B1cF9faXRlbS1wcmljZVwiKTtcclxuY29uc3Qgd2lubmluZ0l0ZW1Cb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndpbi1wb3B1cF9fY29udGFpbmVyXCIpO1xyXG5jb25zdCBiYWxhbmNlQW1vdW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi51c2VyX19iYWxhbmNlLS1hbW91bnRcIik7XHJcbmNvbnN0IGJhbGFuY2VBbW91bnRNb2JpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG5cdFwiLnVzZXItbW9iaWxlX19iYWxhbmNlLS1hbW91bnRcIlxyXG4pO1xyXG5jb25zdCBjYXNlQW1vdW50QnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2FzZV9fYnV0dG9uLWFtb3VudFwiKTtcclxuY29uc3QgYmFja0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FzZV9fYnRuLS1iYWNrXCIpO1xyXG5jb25zdCBtdXRlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXNlX19idG4tLW11dGVcIik7XHJcbmNvbnN0IGFsbENhc2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXNlX19hbGxjYXNlc1wiKTtcclxuY29uc3QgY2FzZVByaWNlID0gMzAuMDtcclxubGV0IGN1cnJlbnRXaW5uaW5nSXRlbTtcclxubGV0IGNhc2VzQW1vdW50ID0gMTtcclxubGV0IGludGVydmFsSWQ7XHJcbmxldCB3aW5uaW5nSXRlbXMgPSBbXTtcclxuXHJcbmNvbnN0IGNyZWF0ZUluZm9BYm91dEl0ZW1zSW5DaGVzdCA9ICgpID0+IHtcclxuXHRjb25zdCBkcm9wQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXNlX19kcm9wLWJveFwiKTtcclxuXHJcblx0Zm9yIChpID0gMDsgaSA8IGNvdW50SXRlbXNBbW91bnQ7IGkrKykge1xyXG5cdFx0Y29uc3QgZHJvcEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdFx0Y29uc3QgZHJvcEl0ZW1QZXJjZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcblx0XHRjb25zdCBkcm9wSXRlbUltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcblx0XHRjb25zdCBkcm9wSXRlbVRleHRCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdFx0Y29uc3QgZHJvcEl0ZW1UZXh0Qm94TGVmdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0XHRjb25zdCBkcm9wSXRlbU5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHRcdGNvbnN0IGRyb3BJdGVtU2tpbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cdFx0Y29uc3QgZHJvcEl0ZW1QcmljZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cclxuXHRcdGRyb3BJdGVtLmNsYXNzTGlzdC5hZGQoXCJjYXNlX19kcm9wXCIpO1xyXG5cdFx0ZHJvcEl0ZW0uY2xhc3NMaXN0LmFkZChpdGVtczJbYGl0ZW0ke2l9YF0uY29sb3IgKyBcIi1kcm9wMlwiKTtcclxuXHRcdGRyb3BJdGVtLnN0eWxlLm9yZGVyID0gXCItXCIgKyBpdGVtczJbYGl0ZW0ke2l9YF0ucHJpY2UudG9GaXhlZCgwKTtcclxuXHRcdGRyb3BJdGVtUGVyY2VudC5jbGFzc0xpc3QuYWRkKFwiY2FzZV9fZHJvcC1wZXJjZW50XCIpO1xyXG5cdFx0ZHJvcEl0ZW1JbWcuY2xhc3NMaXN0LmFkZChcImNhc2VfX2Ryb3AtaW1nXCIpO1xyXG5cdFx0ZHJvcEl0ZW1UZXh0Qm94LmNsYXNzTGlzdC5hZGQoXCJjYXNlX19kcm9wLXRleHRib3hcIik7XHJcblx0XHRkcm9wSXRlbVRleHRCb3hMZWZ0LmNsYXNzTGlzdC5hZGQoXCJjYXNlX19kcm9wLXRleHRib3gtbGVmdFwiKTtcclxuXHRcdGRyb3BJdGVtTmFtZS5jbGFzc0xpc3QuYWRkKFwiY2FzZV9fZHJvcC1pdGVtXCIpO1xyXG5cdFx0ZHJvcEl0ZW1Ta2luLmNsYXNzTGlzdC5hZGQoXCJjYXNlX19kcm9wLXNraW5cIik7XHJcblx0XHRkcm9wSXRlbVNraW4uY2xhc3NMaXN0LmFkZChpdGVtczJbYGl0ZW0ke2l9YF0uY29sb3IgKyBcIi10ZXh0XCIpO1xyXG5cdFx0ZHJvcEl0ZW1QcmljZS5jbGFzc0xpc3QuYWRkKFwiY2FzZV9fZHJvcC1wcmljZVwiKTtcclxuXHJcblx0XHRkcm9wSXRlbUltZy5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgaXRlbXMyW2BpdGVtJHtpfWBdLmltZ0Rpc3QpO1xyXG5cdFx0ZHJvcEl0ZW1JbWcuc2V0QXR0cmlidXRlKFwiYWx0XCIsIGl0ZW1zMltgaXRlbSR7aX1gXS5uYW1lKTtcclxuXHJcblx0XHRkcm9wSXRlbVBlcmNlbnQudGV4dENvbnRlbnQgPSBpdGVtczJbYGl0ZW0ke2l9YF0uZHJvcFBlcmNlbnQgKyBcIiVcIjtcclxuXHRcdGRyb3BJdGVtTmFtZS50ZXh0Q29udGVudCA9IGl0ZW1zMltgaXRlbSR7aX1gXS53ZWFwb247XHJcblx0XHRkcm9wSXRlbVNraW4udGV4dENvbnRlbnQgPSBpdGVtczJbYGl0ZW0ke2l9YF0uc2tpbjtcclxuXHRcdGRyb3BJdGVtUHJpY2UudGV4dENvbnRlbnQgPSBpdGVtczJbYGl0ZW0ke2l9YF0ucHJpY2UgKyBcIiRcIjtcclxuXHJcblx0XHRkcm9wSXRlbVRleHRCb3hMZWZ0LmFwcGVuZChkcm9wSXRlbU5hbWUsIGRyb3BJdGVtU2tpbik7XHJcblx0XHRkcm9wSXRlbVRleHRCb3guYXBwZW5kKGRyb3BJdGVtVGV4dEJveExlZnQsIGRyb3BJdGVtUHJpY2UpO1xyXG5cdFx0ZHJvcEl0ZW0uYXBwZW5kKGRyb3BJdGVtUGVyY2VudCwgZHJvcEl0ZW1JbWcsIGRyb3BJdGVtVGV4dEJveCk7XHJcblx0XHRkcm9wQm94LmFwcGVuZChkcm9wSXRlbSk7XHJcblx0fVxyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlSXRlbXNJbkNoZXN0ID0gKCkgPT4ge1xyXG5cdGNvbnN0IGNhc2VJdGVtc0JveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2FzZV9faXRlbXNcIik7XHJcblxyXG5cdGNhc2VJdGVtc0JveC5mb3JFYWNoKChib3gpID0+IHtcclxuXHRcdGZvciAoaSA9IDA7IGkgPCAxMDA7IGkrKykge1xyXG5cdFx0XHRjb25zdCByYW5kb21OdW1iZXIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMCk7XHJcblx0XHRcdGxldCByYW5kb21JdGVtO1xyXG5cclxuXHRcdFx0aWYgKHJhbmRvbU51bWJlciA8PSA5OSkge1xyXG5cdFx0XHRcdHJhbmRvbUl0ZW0gPSAwO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJhbmRvbUl0ZW0gPSAxO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRcdFx0Y29uc3QgaXRlbUltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcblx0XHRcdGNvbnN0IGl0ZW1JdGVtTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cdFx0XHRjb25zdCBpdGVtU2tpbk5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHRcdFx0aXRlbS5jbGFzc0xpc3QuYWRkKFwiY2FzZV9faXRlbVwiKTtcclxuXHRcdFx0aXRlbS5jbGFzc0xpc3QuYWRkKGl0ZW1zMltgaXRlbSR7cmFuZG9tSXRlbX1gXS5jb2xvciArIFwiLWRyb3BcIik7XHJcblx0XHRcdGl0ZW0uc3R5bGUuYm9yZGVyID0gXCJub25lXCI7XHJcblx0XHRcdGl0ZW1JbWcuY2xhc3NMaXN0LmFkZChcImNhc2VfX2ltZ1wiKTtcclxuXHRcdFx0aXRlbUl0ZW1OYW1lLmNsYXNzTGlzdC5hZGQoXCJjYXNlX19pdGVtLW5hbWVcIik7XHJcblx0XHRcdGl0ZW1Ta2luTmFtZS5jbGFzc0xpc3QuYWRkKFwiY2FzZV9fc2tpbi1uYW1lXCIpO1xyXG5cdFx0XHRpdGVtU2tpbk5hbWUuY2xhc3NMaXN0LmFkZChpdGVtczJbYGl0ZW0ke3JhbmRvbUl0ZW19YF0uY29sb3IgKyBcIi10ZXh0XCIpO1xyXG5cclxuXHRcdFx0aXRlbUltZy5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgaXRlbXMyW2BpdGVtJHtyYW5kb21JdGVtfWBdLmltZ0Rpc3QpO1xyXG5cdFx0XHRpdGVtSW1nLnNldEF0dHJpYnV0ZShcImFsdFwiLCBpdGVtczJbYGl0ZW0ke3JhbmRvbUl0ZW19YF0ubmFtZSk7XHJcblx0XHRcdGl0ZW1JdGVtTmFtZS50ZXh0Q29udGVudCA9IGl0ZW1zMltgaXRlbSR7cmFuZG9tSXRlbX1gXS53ZWFwb247XHJcblx0XHRcdGl0ZW1Ta2luTmFtZS50ZXh0Q29udGVudCA9IGl0ZW1zMltgaXRlbSR7cmFuZG9tSXRlbX1gXS5za2luO1xyXG5cclxuXHRcdFx0aXRlbS5pZCA9IGBpdGVtJHtyYW5kb21JdGVtfWA7XHJcblx0XHRcdGl0ZW0uYXBwZW5kKGl0ZW1JbWcsIGl0ZW1JdGVtTmFtZSwgaXRlbVNraW5OYW1lKTtcclxuXHRcdFx0Ym94LmFwcGVuZChpdGVtKTtcclxuXHRcdH1cclxuXHR9KTtcclxufTtcclxuXHJcbmNvbnN0IHNldEJ0blRleHQgPSAoKSA9PiB7XHJcblx0aWYgKHBhcnNlRmxvYXQobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJCYWxhbmNlXCIpLnNsaWNlKDAsIC0xKSkgPj0gY2FzZVByaWNlKSB7XHJcblx0XHRzcGluQnRuLnRleHRDb250ZW50ID0gYG9wZW4gJHtjYXNlUHJpY2UgKiBjYXNlc0Ftb3VudH0uMDAkYDtcclxuXHR9IGVsc2Uge1xyXG5cdFx0c3BpbkJ0bi50ZXh0Q29udGVudCA9IFwiYWRkIGJhbGFuY2VcIjtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBzcGluQ2FzZSA9ICgpID0+IHtcclxuXHRjb25zdCBjYXNlSXRlbXNCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNhc2VfX2l0ZW1zXCIpO1xyXG5cclxuXHRpZiAoXHJcblx0XHRwYXJzZUZsb2F0KGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiQmFsYW5jZVwiKS5zbGljZSgwLCAtMSkpID49IGNhc2VQcmljZSAmJlxyXG5cdFx0c3BpbkJ0bi50ZXh0Q29udGVudCAhPT0gXCJzcGluaW5nXCJcclxuXHQpIHtcclxuXHRcdGNvbnN0IGNhc2VPcGVuaW5nU291bmQgPSBuZXcgQXVkaW8oXCIuLi9kaXN0L2F1ZGlvL29wZW4ubXAzXCIpO1xyXG5cdFx0aWYgKG11dGVCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKFwibm90LW11dGVkXCIpKSB7XHJcblx0XHRcdGNhc2VPcGVuaW5nU291bmQucGxheSgpO1xyXG5cdFx0fVxyXG5cdFx0Y2FzZUl0ZW1zQm94LmZvckVhY2goKGJveCkgPT4ge1xyXG5cdFx0XHQvLyBMb3Nvd2UgcHJ6ZXN1bmnEmWNpZSBtacSZZHp5IC0yMDAwIGEgLTcwMDAgcHhcclxuXHRcdFx0Y29uc3QgaG93U3Ryb25nU3BpbiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDUwMDAgLSAxMDAwMCk7XHJcblxyXG5cdFx0XHRzcGluQnRuLnRleHRDb250ZW50ID0gXCJzcGluaW5nXCI7XHJcblxyXG5cclxuXHRcdFx0Y29uc3QgY2FzZXNPcGVuZWRUb0FkZCA9XHJcblx0XHRcdFx0cGFyc2VJbnQobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJjYXNlc09wZW5lZFwiKSkgKyAxO1xyXG5cdFx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImNhc2VzT3BlbmVkXCIsIGNhc2VzT3BlbmVkVG9BZGQpO1xyXG5cclxuXHRcdFx0Y29uc3QgYmFsYW5jZUFmdGVyT3BlbmluZyA9IChcclxuXHRcdFx0XHRwYXJzZUZsb2F0KGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiQmFsYW5jZVwiKS5zbGljZSgwLCAtMSkpIC0gY2FzZVByaWNlXHJcblx0XHRcdCkudG9GaXhlZCgyKTtcclxuXHRcdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJCYWxhbmNlXCIsIGJhbGFuY2VBZnRlck9wZW5pbmcgKyBcIiRcIik7XHJcblx0XHRcdHNldEJhbGFuY2UoKTtcclxuXHJcblx0XHRcdC8vIFVzdGF3aWVuaWUgcHJ6ZXN1bmnEmWNpYSBlbGVtZW50w7N3IHogYW5pbWFjasSFXHJcblx0XHRcdGJveC5zdHlsZS5sZWZ0ID0gaG93U3Ryb25nU3BpbiArIFwicHhcIjtcclxuXHRcdFx0Ym94LnN0eWxlLnRyYW5zaXRpb24gPSBcImxlZnQgNXMgZWFzZVwiO1xyXG5cclxuXHRcdFx0aWYgKGNhc2VzQW1vdW50ID09PSAxKSB7XHJcblx0XHRcdFx0Ly8gRHluYW1pY3puZSBza2Fsb3dhbmllIG5hamJsacW8c3plZ28gZWxlbWVudHUgdyB0cmFrY2llIGFuaW1hY2ppXHJcblx0XHRcdFx0aW50ZXJ2YWxJZCA9IHNldEludGVydmFsKCgpID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0IHJlZExpbmVYID0gZG9jdW1lbnRcclxuXHRcdFx0XHRcdFx0LnF1ZXJ5U2VsZWN0b3IoXCIuY2FzZV9fbWlkZGxlLXBvaW50XCIpXHJcblx0XHRcdFx0XHRcdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS54O1xyXG5cclxuXHRcdFx0XHRcdGZ1bmN0aW9uIHVwZGF0ZUNsb3Nlc3RJdGVtU2NhbGUoKSB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IGl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jYXNlX19pdGVtXCIpO1xyXG5cdFx0XHRcdFx0XHRsZXQgY2xvc2VzdEl0ZW0gPSBudWxsO1xyXG5cdFx0XHRcdFx0XHRsZXQgY2xvc2VzdERpc3RhbmNlID0gSW5maW5pdHk7XHJcblxyXG5cdFx0XHRcdFx0XHQvLyBSZXNldHVqIHNrYWxvd2FuaWUgZGxhIHdzenlzdGtpY2ggZWxlbWVudMOzd1xyXG5cdFx0XHRcdFx0XHRpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0aXRlbS5maXJzdEVsZW1lbnRDaGlsZC5zdHlsZS5zY2FsZSA9IFwiMVwiO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHRcdC8vIFpuYWpkxbogbmFqYmxpxbxzenkgZWxlbWVudCBkbyBsaW5paSDFm3JvZGtvd2VqXHJcblx0XHRcdFx0XHRcdGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuXHRcdFx0XHRcdFx0XHRjb25zdCBpdGVtQ2VudGVyWCA9XHJcblx0XHRcdFx0XHRcdFx0XHRpdGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnggKyBpdGVtLm9mZnNldFdpZHRoIC8gMjtcclxuXHRcdFx0XHRcdFx0XHRjb25zdCBkaXN0YW5jZSA9IE1hdGguYWJzKGl0ZW1DZW50ZXJYIC0gcmVkTGluZVgpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRpZiAoZGlzdGFuY2UgPCBjbG9zZXN0RGlzdGFuY2UpIHtcclxuXHRcdFx0XHRcdFx0XHRcdGNsb3Nlc3REaXN0YW5jZSA9IGRpc3RhbmNlO1xyXG5cdFx0XHRcdFx0XHRcdFx0Y2xvc2VzdEl0ZW0gPSBpdGVtO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0XHQvLyBabW5pZWpzeiBza2FsxJkgbmFqYmxpxbxzemVnbyBlbGVtZW50dVxyXG5cdFx0XHRcdFx0XHRpZiAoY2xvc2VzdEl0ZW0pIHtcclxuXHRcdFx0XHRcdFx0XHRjbG9zZXN0SXRlbS5maXJzdEVsZW1lbnRDaGlsZC5zdHlsZS5zY2FsZSA9IFwiMC45XCI7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHR1cGRhdGVDbG9zZXN0SXRlbVNjYWxlKCk7XHJcblx0XHRcdFx0fSwgMTAwKTsgLy8gQWt0dWFsaXp1aiBjbyAxMDBtc1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBQbyB6YWtvxYRjemVuaXUgYW5pbWFjamkgcG8gNSBzZWt1bmRhY2gsIHpuYWpkxbogend5Y2nEmXNraSBlbGVtZW50IGkgemF0cnp5bWFqIHNrYWxvd2FuaWVcclxuXHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0Y2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKTsgLy8gWmF0cnp5bWFqIGR5bmFtaWN6bmUgc2thbG93YW5pZSBwbyB6YWtvxYRjemVuaXUgYW5pbWFjamlcclxuXHJcblx0XHRcdFx0Y29uc3QgcmVkTGluZVggPSBkb2N1bWVudFxyXG5cdFx0XHRcdFx0LnF1ZXJ5U2VsZWN0b3IoXCIuY2FzZV9fbWlkZGxlLXBvaW50XCIpXHJcblx0XHRcdFx0XHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueDtcclxuXHJcblx0XHRcdFx0ZnVuY3Rpb24gZ2V0V2lubmluZ0l0ZW0oKSB7XHJcblx0XHRcdFx0XHRjb25zdCBpdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2FzZV9faXRlbVwiKTtcclxuXHRcdFx0XHRcdGxldCBjbG9zZXN0SXRlbSA9IG51bGw7XHJcblx0XHRcdFx0XHRsZXQgY2xvc2VzdERpc3RhbmNlID0gSW5maW5pdHk7XHJcblxyXG5cdFx0XHRcdFx0aXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRjb25zdCBpdGVtQ2VudGVyWCA9XHJcblx0XHRcdFx0XHRcdFx0aXRlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS54ICsgaXRlbS5vZmZzZXRXaWR0aCAvIDI7XHJcblx0XHRcdFx0XHRcdGNvbnN0IGRpc3RhbmNlID0gTWF0aC5hYnMoaXRlbUNlbnRlclggLSByZWRMaW5lWCk7XHJcblxyXG5cdFx0XHRcdFx0XHRpZiAoZGlzdGFuY2UgPCBjbG9zZXN0RGlzdGFuY2UpIHtcclxuXHRcdFx0XHRcdFx0XHRjbG9zZXN0RGlzdGFuY2UgPSBkaXN0YW5jZTtcclxuXHRcdFx0XHRcdFx0XHRjbG9zZXN0SXRlbSA9IGl0ZW07XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdHJldHVybiBjbG9zZXN0SXRlbTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIFpuYWpkxbogd3lncnl3YWrEhWN5IGVsZW1lbnQgaSB6bWllxYQgamVnbyBrb2xvclxyXG5cdFx0XHRcdGNvbnN0IHdpbm5pbmdJdGVtID0gZ2V0V2lubmluZ0l0ZW0oKTtcclxuXHRcdFx0XHRpZiAod2lubmluZ0l0ZW0pIHtcclxuXHRcdFx0XHRcdHdpbm5pbmdJdGVtcy5wdXNoKHdpbm5pbmdJdGVtKTtcclxuXHRcdFx0XHRcdHdpbm5pbmdJdGVtQm94LmNsYXNzTGlzdC52YWx1ZSA9IFwiXCI7XHJcblx0XHRcdFx0XHR3aW5uaW5nSXRlbUJveC5jbGFzc0xpc3QuYWRkKFxyXG5cdFx0XHRcdFx0XHRcIndpbi1wb3B1cF9fY29udGFpbmVyXCIsXHJcblx0XHRcdFx0XHRcdGAke2l0ZW1zMltgJHt3aW5uaW5nSXRlbS5pZH1gXS5jb2xvciArIFwiLXdpblwifWBcclxuXHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHR3aW5uaW5nSXRlbUltZy5zZXRBdHRyaWJ1dGUoXHJcblx0XHRcdFx0XHRcdFwic3JjXCIsXHJcblx0XHRcdFx0XHRcdGl0ZW1zMltgJHt3aW5uaW5nSXRlbS5pZH1gXS5pbWdEaXN0XHJcblx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0d2lubmluZ0l0ZW1JbWcuc2V0QXR0cmlidXRlKFwiYWx0XCIsIGl0ZW1zMltgJHt3aW5uaW5nSXRlbS5pZH1gXS5uYW1lKTtcclxuXHRcdFx0XHRcdHdpbm5pbmdJdGVtTmFtZS50ZXh0Q29udGVudCA9IGl0ZW1zMltgJHt3aW5uaW5nSXRlbS5pZH1gXS5uYW1lO1xyXG5cdFx0XHRcdFx0d2lubmluZ0l0ZW1QcmljZS50ZXh0Q29udGVudCA9XHJcblx0XHRcdFx0XHRcdGl0ZW1zMltgJHt3aW5uaW5nSXRlbS5pZH1gXS5wcmljZSArIFwiJFwiO1xyXG5cdFx0XHRcdFx0aGlkZVdpblBvcHVwKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LCA1MDAwKTsgLy8gVXJ1Y2hvbSBwbyB6YWtvxYRjemVuaXUgYW5pbWFjamlcclxuXHRcdH0pO1xyXG5cdH0gZWxzZSBpZiAoc3BpbkJ0bi50ZXh0Q29udGVudCAhPT0gXCJzcGluaW5nXCIpIHtcclxuXHRcdHdpbmRvdy5vcGVuKFwiLi4vZGlmZi9kZXBvc2l0Lmh0bWxcIiwgXCJfc2VsZlwiKTtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBoaWRlV2luUG9wdXAgPSAoKSA9PiB7XHJcblx0aWYgKGNhc2VzQW1vdW50ID09PSAxKSB7XHJcblx0XHR3aW5QdXB1cC5jbGFzc0xpc3QudG9nZ2xlKFwiaGlkZGVuXCIpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHR0YWtlV2lubmluZ0l0ZW0oKTtcclxuXHR9XHJcblx0c2V0QnRuVGV4dCgpO1xyXG59O1xyXG5cclxuY29uc3Qgc2VsbFdpbm5pbmdJdGVtID0gKCkgPT4ge1xyXG5cdGNvbnN0IGN1cnJlbnRCYWxhbmNlID0gcGFyc2VGbG9hdChcclxuXHRcdGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiQmFsYW5jZVwiKS5zbGljZSgwLCAtMSlcclxuXHQpO1xyXG5cdGNvbnN0IGl0ZW1QcmljZSA9IHBhcnNlRmxvYXQod2lubmluZ0l0ZW1QcmljZS50ZXh0Q29udGVudCk7XHJcblx0Y29uc3QgaG93TXVjaFRvQWRkVG9CYWxhbmNlID0gKGN1cnJlbnRCYWxhbmNlICsgaXRlbVByaWNlKS50b0ZpeGVkKDIpO1xyXG5cdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiQmFsYW5jZVwiLCBob3dNdWNoVG9BZGRUb0JhbGFuY2UgKyBcIiRcIik7XHJcblx0aGlkZVdpblBvcHVwKCk7XHJcblx0cmVmcmVzaEJhbGFuY2UoKTtcclxuXHRyZXNldEJveEFuaW1hdGlvbigpO1xyXG59O1xyXG5cclxuY29uc3QgdGFrZVdpbm5pbmdJdGVtID0gKCkgPT4ge1xyXG5cdGZvciAoaSA9IDA7IGkgPCB3aW5uaW5nSXRlbXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdGlmIChcclxuXHRcdFx0bG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJpZFwiICsgaXRlbXMyW2Ake3dpbm5pbmdJdGVtc1tpXS5pZH1gXS5pZCkgPT09XHJcblx0XHRcdFx0bnVsbCB8fFxyXG5cdFx0XHRsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImlkXCIgKyBpdGVtczJbYCR7d2lubmluZ0l0ZW1zW2ldLmlkfWBdLmlkKSA9PT0gTmFOXHJcblx0XHQpIHtcclxuXHRcdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJpZFwiICsgaXRlbXMyW2Ake3dpbm5pbmdJdGVtc1tpXS5pZH1gXS5pZCwgMSk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcclxuXHRcdFx0XHRcImlkXCIgKyBpdGVtczJbYCR7d2lubmluZ0l0ZW1zW2ldLmlkfWBdLmlkLFxyXG5cdFx0XHRcdHBhcnNlSW50KFxyXG5cdFx0XHRcdFx0bG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJpZFwiICsgaXRlbXMyW2Ake3dpbm5pbmdJdGVtc1tpXS5pZH1gXS5pZClcclxuXHRcdFx0XHQpICsgMVxyXG5cdFx0XHQpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0aWYgKGNhc2VzQW1vdW50ID09PSAxKSB7XHJcblx0XHRoaWRlV2luUG9wdXAoKTtcclxuXHR9XHJcblx0cmVzZXRCb3hBbmltYXRpb24oKTtcclxufTtcclxuXHJcbmNvbnN0IHJlZnJlc2hCYWxhbmNlID0gKCkgPT4ge1xyXG5cdGJhbGFuY2VBbW91bnQudGV4dENvbnRlbnQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIkJhbGFuY2VcIik7XHJcblx0YmFsYW5jZUFtb3VudE1vYmlsZS50ZXh0Q29udGVudCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiQmFsYW5jZVwiKTtcclxufTtcclxuXHJcbmNvbnN0IHJlc2V0Qm94QW5pbWF0aW9uID0gKCkgPT4ge1xyXG5cdGNvbnN0IGNhc2VJdGVtc0JveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2FzZV9faXRlbXNcIik7XHJcblx0Y2FzZUl0ZW1zQm94LmZvckVhY2goKGJveCkgPT4ge1xyXG5cdFx0Ym94LmlubmVySFRNTCA9IFwiXCI7XHJcblx0XHRib3guc3R5bGUudHJhbnNpdGlvbiA9IFwiMC4wMXNcIjtcclxuXHRcdGJveC5zdHlsZS5sZWZ0ID0gXCIwXCI7XHJcblx0fSk7XHJcblxyXG5cdHdpbm5pbmdJdGVtcyA9IFtdO1xyXG5cdGNyZWF0ZUl0ZW1zSW5DaGVzdCgpO1xyXG59O1xyXG5cclxuY29uc3QgZ29CYWNrVG9NYWluU2l0ZSA9ICgpID0+IHtcclxuXHR3aW5kb3cub3BlbihcIi4uL2luZGV4Lmh0bWxcIiwgXCJfc2VsZlwiKTtcclxufTtcclxuXHJcbmNvbnN0IG11dGVTb3VuZCA9ICgpID0+IHtcclxuXHRtdXRlQnRuLmNsYXNzTGlzdC50b2dnbGUoXCJub3QtbXV0ZWRcIik7XHJcblxyXG5cdGlmIChtdXRlQnRuLmNsYXNzTGlzdC5jb250YWlucyhcIm5vdC1tdXRlZFwiKSkge1xyXG5cdFx0bXV0ZUJ0bi5sYXN0RWxlbWVudENoaWxkLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuXHRcdG11dGVCdG4uZmlyc3RFbGVtZW50Q2hpbGQuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuXHR9IGVsc2Uge1xyXG5cdFx0bXV0ZUJ0bi5sYXN0RWxlbWVudENoaWxkLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcblx0XHRtdXRlQnRuLmZpcnN0RWxlbWVudENoaWxkLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVCb3hlcyA9ICgpID0+IHtcclxuXHRjb25zdCBjYXNlSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0Y29uc3QgY2FzZVBvaW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRjb25zdCBjYXNlVHJpYW5nbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdGNvbnN0IGNhc2VUcmlhbmdsZUJ0bSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0Y29uc3QgY2FzZUl0ZW1zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHJcblx0Y2FzZUl0ZW0uY2xhc3NMaXN0LmFkZChcImNhc2VfX2NvbnRhaW5lclwiKTtcclxuXHRjYXNlUG9pbnQuY2xhc3NMaXN0LmFkZChcImNhc2VfX21pZGRsZS1wb2ludFwiKTtcclxuXHRjYXNlVHJpYW5nbGUuY2xhc3NMaXN0LmFkZChcImNhc2VfX21pZGRsZS10cmlhbmdsZVwiKTtcclxuXHRjYXNlVHJpYW5nbGVCdG0uY2xhc3NMaXN0LmFkZChcclxuXHRcdFwiY2FzZV9fbWlkZGxlLXRyaWFuZ2xlXCIsXHJcblx0XHRcImNhc2VfX21pZGRsZS10cmlhbmdsZS0tYm90dG9tXCJcclxuXHQpO1xyXG5cdGNhc2VJdGVtcy5jbGFzc0xpc3QuYWRkKFwiY2FzZV9faXRlbXNcIik7XHJcblxyXG5cdGNhc2VJdGVtLmFwcGVuZChjYXNlUG9pbnQsIGNhc2VUcmlhbmdsZSwgY2FzZVRyaWFuZ2xlQnRtLCBjYXNlSXRlbXMpO1xyXG5cdGFsbENhc2VzLmFwcGVuZChjYXNlSXRlbSk7XHJcblx0Y3JlYXRlSXRlbXNJbkNoZXN0KCk7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBzZXRDYXNlc0Ftb3VudCgpIHtcclxuXHRpZiAoc3BpbkJ0bi50ZXh0Q29udGVudCAhPT0gXCJzcGluaW5nXCIpIHtcclxuXHRcdGFsbENhc2VzLmlubmVySFRNTCA9IFwiXCI7XHJcblxyXG5cdFx0c3dpdGNoICh0aGlzLmlkKSB7XHJcblx0XHRcdGNhc2UgXCIxQ2FzZVwiOlxyXG5cdFx0XHRcdGNhc2VzQW1vdW50ID0gMTtcclxuXHRcdFx0XHRjcmVhdGVCb3hlcygpO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlIFwiMkNhc2VcIjpcclxuXHRcdFx0XHRjYXNlc0Ftb3VudCA9IDI7XHJcblx0XHRcdFx0Y3JlYXRlQm94ZXMoKTtcclxuXHRcdFx0XHRjcmVhdGVCb3hlcygpO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlIFwiM0Nhc2VcIjpcclxuXHRcdFx0XHRjYXNlc0Ftb3VudCA9IDM7XHJcblx0XHRcdFx0Y3JlYXRlQm94ZXMoKTtcclxuXHRcdFx0XHRjcmVhdGVCb3hlcygpO1xyXG5cdFx0XHRcdGNyZWF0ZUJveGVzKCk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgXCI0Q2FzZVwiOlxyXG5cdFx0XHRcdGNhc2VzQW1vdW50ID0gNDtcclxuXHRcdFx0XHRjcmVhdGVCb3hlcygpO1xyXG5cdFx0XHRcdGNyZWF0ZUJveGVzKCk7XHJcblx0XHRcdFx0Y3JlYXRlQm94ZXMoKTtcclxuXHRcdFx0XHRjcmVhdGVCb3hlcygpO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlIFwiNUNhc2VcIjpcclxuXHRcdFx0XHRjYXNlc0Ftb3VudCA9IDU7XHJcblx0XHRcdFx0Y3JlYXRlQm94ZXMoKTtcclxuXHRcdFx0XHRjcmVhdGVCb3hlcygpO1xyXG5cdFx0XHRcdGNyZWF0ZUJveGVzKCk7XHJcblx0XHRcdFx0Y3JlYXRlQm94ZXMoKTtcclxuXHRcdFx0XHRjcmVhdGVCb3hlcygpO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0fVxyXG5cclxuXHRcdHNldEJ0blRleHQoKTtcclxuXHR9XHJcbn1cclxuXHJcbnNwaW5CdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHNwaW5DYXNlKTtcclxudGFrZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGFrZVdpbm5pbmdJdGVtKTtcclxuc2VsbEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgc2VsbFdpbm5pbmdJdGVtKTtcclxuYmFja0J0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZ29CYWNrVG9NYWluU2l0ZSk7XHJcbm11dGVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG11dGVTb3VuZCk7XHJcblxyXG5jYXNlQW1vdW50QnRucy5mb3JFYWNoKChidG4pID0+IHtcclxuXHRidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHNldENhc2VzQW1vdW50KTtcclxufSk7XHJcblxyXG5jcmVhdGVJdGVtc0luQ2hlc3QoKTtcclxuc2V0QnRuVGV4dCgpO1xyXG5jcmVhdGVJbmZvQWJvdXRJdGVtc0luQ2hlc3QoKTtcclxuIl19
