var startBtn=document.querySelectorAll(".coinflip__btn"),betInput=document.querySelector(".gamemode__input"),coin=document.getElementById("coin"),inputBtn=document.querySelectorAll(".gamemode__btn"),lastDropBox=document.querySelector(".coinflip__lastdropsbox"),totalProfit=document.querySelector("#total"),spinning=!1,bet="",betAmount=0,lastBetAmount=0,maxBetAmount=parseFloat(localStorage.getItem("Balance")).toFixed(2),totalAmount=0,flipCoin=function(){spinning=!0;var t=Math.random()<.5?"heads":"tails";coin.style.transition="transform 6s ease-in-out",setTimeout(function(){coin.classList.add("heads"==t?"flip-heads":"flip-tails")},100),setTimeout(function(){checkIfPlayerWon(t),createDrop(t)},6e3),setTimeout(function(){spinning=!1},6500),takeFromBalance()};function resetCoin(){if(!1===spinning&&0<betInput.value&&betInput.value<=parseFloat(localStorage.getItem("Balance"))){switch(bet="",betAmount=0,coin.style.transition="none",coin.classList.remove("flip-heads","flip-tails"),betAmount=betInput.value,this.id){case"ct":bet="ct";break;case"t":bet="t"}setTimeout(function(){flipCoin()},10)}}var takeFromBalance=function(){var t=parseFloat(localStorage.getItem("Balance"))-betAmount;localStorage.setItem("Balance",t.toFixed(2)+"$"),lastBetAmount=betAmount,setBalance()},checkIfPlayerWon=function(t){var e;"heads"===t&&"ct"===bet?(e=2*betAmount+parseFloat(localStorage.getItem("Balance")),localStorage.setItem("Balance",e.toFixed(2)+"$"),e=parseInt(localStorage.getItem("coinflipWon"))+1,localStorage.setItem("coinflipWon",e)):"tails"===t&&"t"===bet&&(e=2*betAmount+parseFloat(localStorage.getItem("Balance")),localStorage.setItem("Balance",e.toFixed(2)+"$"),t=parseInt(localStorage.getItem("coinflipWon"))+1,localStorage.setItem("coinflipWon",t)),setBalance()},createDrop=function(t){var e=document.createElement("div"),a=document.createElement("div"),n=document.createElement("div"),o=document.createElement("p"),l=document.createElement("p"),i=document.createElement("img"),c=document.createElement("img"),s=document.createElement("p");switch(e.classList.add("coinflip__item"),a.classList.add("coinflip__item-part"),n.classList.add("coinflip__item-part"),o.classList.add("coinflip__item-text"),l.classList.add("coinflip__item-text"),i.classList.add("coinflip__item-img"),c.classList.add("coinflip__item-img"),s.classList.add("coinflip__item-text"),bet){case"t":i.setAttribute("src","../dist/img/t-icon.jpg"),i.setAttribute("alt","t coin");break;case"ct":i.setAttribute("src","../dist/img/ct-icon.jpg"),i.setAttribute("alt","ct coin")}switch(t){case"tails":c.setAttribute("src","../dist/img/t-icon.jpg"),c.setAttribute("alt","t coin");break;case"heads":c.setAttribute("src","../dist/img/ct-icon.jpg"),c.setAttribute("alt","ct coin")}o.textContent="Bet:",l.textContent="Drop:","heads"===t&&"ct"===bet||"tails"===t&&"t"===bet?(s.style.color="rgb(113, 214, 77)",s.textContent="+"+parseFloat(betAmount).toFixed(2)+"$"):(s.style.color="rgb(235, 75, 75)",s.textContent="-"+parseFloat(betAmount).toFixed(2)+"$"),a.append(o,i),n.append(l,c),e.append(a,n,s),lastDropBox.append(e),countTotal()},countTotal=function(){var t=document.querySelectorAll(".coinflip__item");totalAmount=0,t.forEach(function(t){totalAmount=parseFloat(totalAmount)+parseFloat(t.children[2].textContent)}),totalAmount<0?(totalProfit.style.color="rgb(235, 75, 75)",totalProfit.textContent=parseFloat(totalAmount).toFixed(2)+"$"):(totalProfit.style.color="rgb(113, 214, 77)",totalProfit.textContent="+"+parseFloat(totalAmount).toFixed(2)+"$")};function useInputBtn(){switch(this.id){case"clear":betInput.value="0";break;case"last":betInput.value=lastBetAmount;break;case"+1":betInput.value=parseFloat(betInput.value)+1;break;case"+10":betInput.value=parseFloat(betInput.value)+10;break;case"+100":betInput.value=parseFloat(betInput.value)+100;break;case"+1000":betInput.value=parseFloat(betInput.value)+1e3;break;case"1/2":betInput.value=parseFloat(betInput.value)/2;break;case"x2":betInput.value=2*parseFloat(betInput.value);break;case"max":betInput.value=maxBetAmount}}var addEventListeners=function(){startBtn.forEach(function(t){t.addEventListener("click",resetCoin)}),inputBtn.forEach(function(t){t.addEventListener("click",useInputBtn)})};addEventListeners();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZGVzL2NvaW5mbGlwLmpzIl0sIm5hbWVzIjpbInN0YXJ0QnRuIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYmV0SW5wdXQiLCJxdWVyeVNlbGVjdG9yIiwiY29pbiIsImdldEVsZW1lbnRCeUlkIiwiaW5wdXRCdG4iLCJsYXN0RHJvcEJveCIsInRvdGFsUHJvZml0Iiwic3Bpbm5pbmciLCJiZXQiLCJiZXRBbW91bnQiLCJwYXJzZUZsb2F0IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInRvRml4ZWQiLCJsYXN0QmV0QW1vdW50IiwidG90YWxBbW91bnQiLCJNYXRoIiwicmFuZG9tIiwic3R5bGUiLCJ0cmFuc2l0aW9uIiwic2V0VGltZW91dCIsImFkZCIsInJlc3VsdCIsImNyZWF0ZURyb3AiLCJjaGVja0lmUGxheWVyV29uIiwidGFrZUZyb21CYWxhbmNlIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwidmFsdWUiLCJ0aGlzIiwiaWQiLCJmbGlwQ29pbiIsImJhbGFuY2VBZnRlckJldCIsIndpbkNvaW4iLCJ3aW5Ub0FkZCIsImNvaW5mbGlwV29uVG9BZGQiLCJwYXJzZUludCIsInNldEJhbGFuY2UiLCJpdGVtSW1nMSIsInNldEl0ZW0iLCJjcmVhdGVFbGVtZW50IiwiaXRlbVBhcnQyIiwiaXRlbVRleHQyIiwiaXRlbUFtb3VudCIsIml0ZW1QYXJ0MSIsIml0ZW1Cb3giLCJzZXRBdHRyaWJ1dGUiLCJpdGVtVGV4dDEiLCJpdGVtSW1nMiIsInRleHRDb250ZW50IiwiY29sb3IiLCJjb3VudFRvdGFsIiwiYWxsSXRlbXMiLCJ1c2VJbnB1dEJ0biIsImFwcGVuZCIsIml0ZW0iLCJjaGlsZHJlbiIsIm1heEJldEFtb3VudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJmb3JFYWNoIiwiYWRkRXZlbnRMaXN0ZW5lcnMiLCJidG4iLCJyZXNldENvaW4iXSwibWFwcGluZ3MiOiJBQUFBLElBQU1BLFNBQVdDLFNBQVNDLGlCQUFpQixnQkFBZ0IsRUFDckRD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QUNELElBQUssS0FDSjVCLFNBQVM0QixNQUFxQyxFQUE3QmxCLFdBQVdWLFNBQVM0QixLQUFLLEVBQzFDLE1BQ0QsSUFBSyxNQUNKNUIsU0FBUzRCLE1BQVE2QixZQUVuQixDQUNELENBRUEsSUFBTUcsa0JBQW9CLFdBQ3pCL0QsU0FBUzhELFFBQVEsU0FBQ0UsR0FDakJBLEVBQUlILGlCQUFpQixRQUFTSSxTQUFTLENBQ3hDLENBQUMsRUFFRDFELFNBQVN1RCxRQUFRLFNBQUNFLEdBQ2pCQSxFQUFJSCxpQkFBaUIsUUFBU0wsV0FBVyxDQUMxQyxDQUFDLENBQ0YsRUFFQU8sa0JBQWtCIiwiZmlsZSI6Im1vZGVzL2NvaW5mbGlwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHN0YXJ0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jb2luZmxpcF9fYnRuXCIpO1xyXG5jb25zdCBiZXRJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ2FtZW1vZGVfX2lucHV0XCIpO1xyXG5jb25zdCBjb2luID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb2luXCIpO1xyXG5jb25zdCBpbnB1dEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZ2FtZW1vZGVfX2J0blwiKTtcclxuY29uc3QgbGFzdERyb3BCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvaW5mbGlwX19sYXN0ZHJvcHNib3hcIik7XHJcbmNvbnN0IHRvdGFsUHJvZml0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0b3RhbFwiKTtcclxubGV0IHNwaW5uaW5nID0gZmFsc2U7XHJcbmxldCBiZXQgPSBcIlwiO1xyXG5sZXQgYmV0QW1vdW50ID0gMDtcclxubGV0IGxhc3RCZXRBbW91bnQgPSAwO1xyXG5sZXQgbWF4QmV0QW1vdW50ID0gcGFyc2VGbG9hdChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIkJhbGFuY2VcIikpLnRvRml4ZWQoMik7XHJcbmxldCB0b3RhbEFtb3VudCA9IDA7XHJcblxyXG5jb25zdCBmbGlwQ29pbiA9ICgpID0+IHtcclxuXHRzcGlubmluZyA9IHRydWU7XHJcblx0Y29uc3QgcmVzdWx0ID0gTWF0aC5yYW5kb20oKSA8IDAuNSA/IFwiaGVhZHNcIiA6IFwidGFpbHNcIjsgLy8gZ2V0IHdpbiAoQ1QgPSBoZWFkcywgVCA9IHRhaWxzKVxyXG5cclxuXHRjb2luLnN0eWxlLnRyYW5zaXRpb24gPSBcInRyYW5zZm9ybSA2cyBlYXNlLWluLW91dFwiOyAvLyBhZGQgYW5pbWF0aW9uXHJcblxyXG5cdC8vIGFkZCBjb3JyZWN0IGNsYXNzIGJhc2VkIG9uIHJlc3VsdFxyXG5cdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0Y29pbi5jbGFzc0xpc3QuYWRkKHJlc3VsdCA9PT0gXCJoZWFkc1wiID8gXCJmbGlwLWhlYWRzXCIgOiBcImZsaXAtdGFpbHNcIik7XHJcblx0fSwgMTAwKTtcclxuXHJcblx0Ly8gY2hlY2sgaWYgcGxheWVyIHdvblxyXG5cdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0Y2hlY2tJZlBsYXllcldvbihyZXN1bHQpO1xyXG5cdFx0Y3JlYXRlRHJvcChyZXN1bHQpO1xyXG5cdH0sIDYwMDApO1xyXG5cclxuXHQvLyBhbGxvdyBwbGF5ZXIgdG8gYmV0IGFnYWluXHJcblx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRzcGlubmluZyA9IGZhbHNlO1xyXG5cdH0sIDY1MDApO1xyXG5cclxuXHR0YWtlRnJvbUJhbGFuY2UoKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIHJlc2V0Q29pbigpIHtcclxuXHRpZiAoXHJcblx0XHRzcGlubmluZyA9PT0gZmFsc2UgJiZcclxuXHRcdGJldElucHV0LnZhbHVlID4gMCAmJlxyXG5cdFx0YmV0SW5wdXQudmFsdWUgPD0gcGFyc2VGbG9hdChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIkJhbGFuY2VcIikpXHJcblx0KSB7XHJcblx0XHRiZXQgPSBcIlwiO1xyXG5cdFx0YmV0QW1vdW50ID0gMDtcclxuXHRcdGNvaW4uc3R5bGUudHJhbnNpdGlvbiA9IFwibm9uZVwiO1xyXG5cdFx0Y29pbi5jbGFzc0xpc3QucmVtb3ZlKFwiZmxpcC1oZWFkc1wiLCBcImZsaXAtdGFpbHNcIik7XHJcblxyXG5cdFx0YmV0QW1vdW50ID0gYmV0SW5wdXQudmFsdWU7XHJcblxyXG5cdFx0Ly8gc2V0IGF0IHdoYXQgY29pbiBwbGF5ZXIgYmV0XHJcblx0XHRzd2l0Y2ggKHRoaXMuaWQpIHtcclxuXHRcdFx0Y2FzZSBcImN0XCI6XHJcblx0XHRcdFx0YmV0ID0gXCJjdFwiO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlIFwidFwiOlxyXG5cdFx0XHRcdGJldCA9IFwidFwiO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0fVxyXG5cclxuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRmbGlwQ29pbigpO1xyXG5cdFx0fSwgMTApO1xyXG5cdH1cclxufVxyXG5cclxuLy8gcmVtb3ZlIGJhbGFuY2UgYWZ0ZXIgYmV0XHJcbmNvbnN0IHRha2VGcm9tQmFsYW5jZSA9ICgpID0+IHtcclxuXHRjb25zdCBiYWxhbmNlQWZ0ZXJCZXQgPVxyXG5cdFx0cGFyc2VGbG9hdChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIkJhbGFuY2VcIikpIC0gYmV0QW1vdW50O1xyXG5cdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiQmFsYW5jZVwiLCBiYWxhbmNlQWZ0ZXJCZXQudG9GaXhlZCgyKSArIFwiJFwiKTtcclxuXHJcblx0bGFzdEJldEFtb3VudCA9IGJldEFtb3VudDtcclxuXHJcblx0c2V0QmFsYW5jZSgpO1xyXG59O1xyXG5cclxuY29uc3QgY2hlY2tJZlBsYXllcldvbiA9ICh3aW5Db2luKSA9PiB7XHJcblx0aWYgKHdpbkNvaW4gPT09IFwiaGVhZHNcIiAmJiBiZXQgPT09IFwiY3RcIikge1xyXG5cdFx0Y29uc3Qgd2luVG9BZGQgPVxyXG5cdFx0XHRiZXRBbW91bnQgKiAyICsgcGFyc2VGbG9hdChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIkJhbGFuY2VcIikpO1xyXG5cdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJCYWxhbmNlXCIsIHdpblRvQWRkLnRvRml4ZWQoMikgKyBcIiRcIik7XHJcblxyXG5cdFx0Y29uc3QgY29pbmZsaXBXb25Ub0FkZCA9IHBhcnNlSW50KGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiY29pbmZsaXBXb25cIikpICsgMTtcclxuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiY29pbmZsaXBXb25cIiwgY29pbmZsaXBXb25Ub0FkZCk7IC8vIFVwZGF0ZSBzdGF0c1xyXG5cdH0gZWxzZSBpZiAod2luQ29pbiA9PT0gXCJ0YWlsc1wiICYmIGJldCA9PT0gXCJ0XCIpIHtcclxuXHRcdGNvbnN0IHdpblRvQWRkID1cclxuXHRcdFx0YmV0QW1vdW50ICogMiArIHBhcnNlRmxvYXQobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJCYWxhbmNlXCIpKTtcclxuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiQmFsYW5jZVwiLCB3aW5Ub0FkZC50b0ZpeGVkKDIpICsgXCIkXCIpO1xyXG5cclxuXHRcdGNvbnN0IGNvaW5mbGlwV29uVG9BZGQgPSBwYXJzZUludChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImNvaW5mbGlwV29uXCIpKSArIDE7XHJcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImNvaW5mbGlwV29uXCIsIGNvaW5mbGlwV29uVG9BZGQpO1xyXG5cdH1cclxuXHJcblx0c2V0QmFsYW5jZSgpO1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlRHJvcCA9ICh3aW5Db2luKSA9PiB7XHJcblx0Y29uc3QgaXRlbUJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0Y29uc3QgaXRlbVBhcnQxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRjb25zdCBpdGVtUGFydDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdGNvbnN0IGl0ZW1UZXh0MSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cdGNvbnN0IGl0ZW1UZXh0MiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cdGNvbnN0IGl0ZW1JbWcxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuXHRjb25zdCBpdGVtSW1nMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcblx0Y29uc3QgaXRlbUFtb3VudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cclxuXHRpdGVtQm94LmNsYXNzTGlzdC5hZGQoXCJjb2luZmxpcF9faXRlbVwiKTtcclxuXHRpdGVtUGFydDEuY2xhc3NMaXN0LmFkZChcImNvaW5mbGlwX19pdGVtLXBhcnRcIik7XHJcblx0aXRlbVBhcnQyLmNsYXNzTGlzdC5hZGQoXCJjb2luZmxpcF9faXRlbS1wYXJ0XCIpO1xyXG5cdGl0ZW1UZXh0MS5jbGFzc0xpc3QuYWRkKFwiY29pbmZsaXBfX2l0ZW0tdGV4dFwiKTtcclxuXHRpdGVtVGV4dDIuY2xhc3NMaXN0LmFkZChcImNvaW5mbGlwX19pdGVtLXRleHRcIik7XHJcblx0aXRlbUltZzEuY2xhc3NMaXN0LmFkZChcImNvaW5mbGlwX19pdGVtLWltZ1wiKTtcclxuXHRpdGVtSW1nMi5jbGFzc0xpc3QuYWRkKFwiY29pbmZsaXBfX2l0ZW0taW1nXCIpO1xyXG5cdGl0ZW1BbW91bnQuY2xhc3NMaXN0LmFkZChcImNvaW5mbGlwX19pdGVtLXRleHRcIik7XHJcblxyXG5cdHN3aXRjaCAoYmV0KSB7XHJcblx0XHRjYXNlIFwidFwiOlxyXG5cdFx0XHRpdGVtSW1nMS5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgXCIuLi9kaXN0L2ltZy90LWljb24uanBnXCIpO1xyXG5cdFx0XHRpdGVtSW1nMS5zZXRBdHRyaWJ1dGUoXCJhbHRcIiwgXCJ0IGNvaW5cIik7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSBcImN0XCI6XHJcblx0XHRcdGl0ZW1JbWcxLnNldEF0dHJpYnV0ZShcInNyY1wiLCBcIi4uL2Rpc3QvaW1nL2N0LWljb24uanBnXCIpO1xyXG5cdFx0XHRpdGVtSW1nMS5zZXRBdHRyaWJ1dGUoXCJhbHRcIiwgXCJjdCBjb2luXCIpO1xyXG5cdFx0XHRicmVhaztcclxuXHR9XHJcblxyXG5cdHN3aXRjaCAod2luQ29pbikge1xyXG5cdFx0Y2FzZSBcInRhaWxzXCI6XHJcblx0XHRcdGl0ZW1JbWcyLnNldEF0dHJpYnV0ZShcInNyY1wiLCBcIi4uL2Rpc3QvaW1nL3QtaWNvbi5qcGdcIik7XHJcblx0XHRcdGl0ZW1JbWcyLnNldEF0dHJpYnV0ZShcImFsdFwiLCBcInQgY29pblwiKTtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlIFwiaGVhZHNcIjpcclxuXHRcdFx0aXRlbUltZzIuc2V0QXR0cmlidXRlKFwic3JjXCIsIFwiLi4vZGlzdC9pbWcvY3QtaWNvbi5qcGdcIik7XHJcblx0XHRcdGl0ZW1JbWcyLnNldEF0dHJpYnV0ZShcImFsdFwiLCBcImN0IGNvaW5cIik7XHJcblx0XHRcdGJyZWFrO1xyXG5cdH1cclxuXHJcblx0aXRlbVRleHQxLnRleHRDb250ZW50ID0gXCJCZXQ6XCI7XHJcblx0aXRlbVRleHQyLnRleHRDb250ZW50ID0gXCJEcm9wOlwiO1xyXG5cclxuXHRpZiAoXHJcblx0XHQod2luQ29pbiA9PT0gXCJoZWFkc1wiICYmIGJldCA9PT0gXCJjdFwiKSB8fFxyXG5cdFx0KHdpbkNvaW4gPT09IFwidGFpbHNcIiAmJiBiZXQgPT09IFwidFwiKVxyXG5cdCkge1xyXG5cdFx0aXRlbUFtb3VudC5zdHlsZS5jb2xvciA9IFwicmdiKDExMywgMjE0LCA3NylcIjtcclxuXHRcdGl0ZW1BbW91bnQudGV4dENvbnRlbnQgPSBcIitcIiArIHBhcnNlRmxvYXQoYmV0QW1vdW50KS50b0ZpeGVkKDIpICsgXCIkXCI7XHJcblx0fSBlbHNlIHtcclxuXHRcdGl0ZW1BbW91bnQuc3R5bGUuY29sb3IgPSBcInJnYigyMzUsIDc1LCA3NSlcIjtcclxuXHRcdGl0ZW1BbW91bnQudGV4dENvbnRlbnQgPSBcIi1cIiArIHBhcnNlRmxvYXQoYmV0QW1vdW50KS50b0ZpeGVkKDIpICsgXCIkXCI7XHJcblx0fVxyXG5cclxuXHRpdGVtUGFydDEuYXBwZW5kKGl0ZW1UZXh0MSwgaXRlbUltZzEpO1xyXG5cdGl0ZW1QYXJ0Mi5hcHBlbmQoaXRlbVRleHQyLCBpdGVtSW1nMik7XHJcblx0aXRlbUJveC5hcHBlbmQoaXRlbVBhcnQxLCBpdGVtUGFydDIsIGl0ZW1BbW91bnQpO1xyXG5cdGxhc3REcm9wQm94LmFwcGVuZChpdGVtQm94KTtcclxuXHJcblx0Y291bnRUb3RhbCgpO1xyXG59O1xyXG5cclxuY29uc3QgY291bnRUb3RhbCA9ICgpID0+IHtcclxuXHRjb25zdCBhbGxJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY29pbmZsaXBfX2l0ZW1cIik7XHJcblx0dG90YWxBbW91bnQgPSAwO1xyXG5cclxuXHRhbGxJdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcblx0XHR0b3RhbEFtb3VudCA9XHJcblx0XHRcdHBhcnNlRmxvYXQodG90YWxBbW91bnQpICsgcGFyc2VGbG9hdChpdGVtLmNoaWxkcmVuWzJdLnRleHRDb250ZW50KTtcclxuXHR9KTtcclxuXHJcblx0aWYgKHRvdGFsQW1vdW50IDwgMCkge1xyXG5cdFx0dG90YWxQcm9maXQuc3R5bGUuY29sb3IgPSBcInJnYigyMzUsIDc1LCA3NSlcIjtcclxuXHRcdHRvdGFsUHJvZml0LnRleHRDb250ZW50ID0gcGFyc2VGbG9hdCh0b3RhbEFtb3VudCkudG9GaXhlZCgyKSArIFwiJFwiO1xyXG5cdH0gZWxzZSB7XHJcblx0XHR0b3RhbFByb2ZpdC5zdHlsZS5jb2xvciA9IFwicmdiKDExMywgMjE0LCA3NylcIjtcclxuXHRcdHRvdGFsUHJvZml0LnRleHRDb250ZW50ID0gXCIrXCIgKyBwYXJzZUZsb2F0KHRvdGFsQW1vdW50KS50b0ZpeGVkKDIpICsgXCIkXCI7XHJcblx0fVxyXG59O1xyXG5cclxuZnVuY3Rpb24gdXNlSW5wdXRCdG4oKSB7XHJcblx0c3dpdGNoICh0aGlzLmlkKSB7XHJcblx0XHRjYXNlIFwiY2xlYXJcIjpcclxuXHRcdFx0YmV0SW5wdXQudmFsdWUgPSBcIjBcIjtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlIFwibGFzdFwiOlxyXG5cdFx0XHRiZXRJbnB1dC52YWx1ZSA9IGxhc3RCZXRBbW91bnQ7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSBcIisxXCI6XHJcblx0XHRcdGJldElucHV0LnZhbHVlID0gcGFyc2VGbG9hdChiZXRJbnB1dC52YWx1ZSkgKyAxO1xyXG5cdFx0XHRicmVhaztcclxuXHRcdGNhc2UgXCIrMTBcIjpcclxuXHRcdFx0YmV0SW5wdXQudmFsdWUgPSBwYXJzZUZsb2F0KGJldElucHV0LnZhbHVlKSArIDEwO1xyXG5cdFx0XHRicmVhaztcclxuXHRcdGNhc2UgXCIrMTAwXCI6XHJcblx0XHRcdGJldElucHV0LnZhbHVlID0gcGFyc2VGbG9hdChiZXRJbnB1dC52YWx1ZSkgKyAxMDA7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSBcIisxMDAwXCI6XHJcblx0XHRcdGJldElucHV0LnZhbHVlID0gcGFyc2VGbG9hdChiZXRJbnB1dC52YWx1ZSkgKyAxMDAwO1xyXG5cdFx0XHRicmVhaztcclxuXHRcdGNhc2UgXCIxLzJcIjpcclxuXHRcdFx0YmV0SW5wdXQudmFsdWUgPSBwYXJzZUZsb2F0KGJldElucHV0LnZhbHVlKSAvIDI7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSBcIngyXCI6XHJcblx0XHRcdGJldElucHV0LnZhbHVlID0gcGFyc2VGbG9hdChiZXRJbnB1dC52YWx1ZSkgKiAyO1xyXG5cdFx0XHRicmVhaztcclxuXHRcdGNhc2UgXCJtYXhcIjpcclxuXHRcdFx0YmV0SW5wdXQudmFsdWUgPSBtYXhCZXRBbW91bnQ7XHJcblx0XHRcdGJyZWFrO1xyXG5cdH1cclxufVxyXG5cclxuY29uc3QgYWRkRXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XHJcblx0c3RhcnRCdG4uZm9yRWFjaCgoYnRuKSA9PiB7XHJcblx0XHRidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHJlc2V0Q29pbik7XHJcblx0fSk7XHJcblxyXG5cdGlucHV0QnRuLmZvckVhY2goKGJ0bikgPT4ge1xyXG5cdFx0YnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB1c2VJbnB1dEJ0bik7XHJcblx0fSk7XHJcbn07XHJcblxyXG5hZGRFdmVudExpc3RlbmVycygpO1xyXG4iXX0=
