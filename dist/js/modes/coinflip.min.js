var startBtn=document.querySelectorAll(".coinflip__btn"),betInput=document.querySelector(".gamemode__input"),coin=document.getElementById("coin"),inputBtn=document.querySelectorAll(".gamemode__btn"),lastDropBox=document.querySelector(".coinflip__lastdropsbox"),totalProfit=document.querySelector("#total"),spinning=!1,bet="",betAmount=0,lastBetAmount=0,maxBetAmount=parseFloat(localStorage.getItem("Balance")).toFixed(2),totalAmount=0,flipCoin=function(){spinning=!0;var t=Math.random()<.5?"heads":"tails";coin.style.transition="transform 6s ease-in-out",setTimeout(function(){coin.classList.add("heads"==t?"flip-heads":"flip-tails")},100),setTimeout(function(){checkIfPlayerWon(t),createDrop(t)},6e3),setTimeout(function(){spinning=!1},6500),takeFromBalance()};function resetCoin(){if(!1===spinning&&0<betInput.value&&betInput.value<=parseFloat(localStorage.getItem("Balance"))){switch(bet="",betAmount=0,coin.style.transition="none",coin.classList.remove("flip-heads","flip-tails"),betAmount=betInput.value,this.id){case"ct":bet="ct";break;case"t":bet="t"}setTimeout(function(){flipCoin()},10)}}var takeFromBalance=function(){var t=parseFloat(localStorage.getItem("Balance"))-betAmount;localStorage.setItem("Balance",t.toFixed(2)+"$"),lastBetAmount=betAmount,setBalance()},checkIfPlayerWon=function(t){var e;"heads"===t&&"ct"===bet?(e=2*betAmount+parseFloat(localStorage.getItem("Balance")),localStorage.setItem("Balance",e.toFixed(2)+"$")):"tails"===t&&"t"===bet&&(e=2*betAmount+parseFloat(localStorage.getItem("Balance")),localStorage.setItem("Balance",e.toFixed(2)+"$")),setBalance()},createDrop=function(t){var e=document.createElement("div"),a=document.createElement("div"),n=document.createElement("div"),o=document.createElement("p"),l=document.createElement("p"),i=document.createElement("img"),c=document.createElement("img"),s=document.createElement("p");switch(e.classList.add("coinflip__item"),a.classList.add("coinflip__item-part"),n.classList.add("coinflip__item-part"),o.classList.add("coinflip__item-text"),l.classList.add("coinflip__item-text"),i.classList.add("coinflip__item-img"),c.classList.add("coinflip__item-img"),s.classList.add("coinflip__item-text"),bet){case"t":i.setAttribute("src","../dist/img/t-icon.jpg"),i.setAttribute("alt","t coin");break;case"ct":i.setAttribute("src","../dist/img/ct-icon.jpg"),i.setAttribute("alt","ct coin")}switch(t){case"tails":c.setAttribute("src","../dist/img/t-icon.jpg"),c.setAttribute("alt","t coin");break;case"heads":c.setAttribute("src","../dist/img/ct-icon.jpg"),c.setAttribute("alt","ct coin")}o.textContent="Bet:",l.textContent="Drop:","heads"===t&&"ct"===bet||"tails"===t&&"t"===bet?(s.style.color="rgb(113, 214, 77)",s.textContent="+"+parseFloat(betAmount).toFixed(2)+"$"):(s.style.color="rgb(235, 75, 75)",s.textContent="-"+parseFloat(betAmount).toFixed(2)+"$"),a.append(o,i),n.append(l,c),e.append(a,n,s),lastDropBox.append(e),countTotal()},countTotal=function(){var t=document.querySelectorAll(".coinflip__item");totalAmount=0,t.forEach(function(t){totalAmount=parseFloat(totalAmount)+parseFloat(t.children[2].textContent)}),totalAmount<0?(totalProfit.style.color="rgb(235, 75, 75)",totalProfit.textContent=parseFloat(totalAmount).toFixed(2)+"$"):(totalProfit.style.color="rgb(113, 214, 77)",totalProfit.textContent="+"+parseFloat(totalAmount).toFixed(2)+"$")};function useInputBtn(){switch(this.id){case"clear":betInput.value="0";break;case"last":betInput.value=lastBetAmount;break;case"+1":betInput.value=parseFloat(betInput.value)+1;break;case"+10":betInput.value=parseFloat(betInput.value)+10;break;case"+100":betInput.value=parseFloat(betInput.value)+100;break;case"+1000":betInput.value=parseFloat(betInput.value)+1e3;break;case"1/2":betInput.value=parseFloat(betInput.value)/2;break;case"x2":betInput.value=2*parseFloat(betInput.value);break;case"max":betInput.value=maxBetAmount}}var addEventListeners=function(){startBtn.forEach(function(t){t.addEventListener("click",resetCoin)}),inputBtn.forEach(function(t){t.addEventListener("click",useInputBtn)})};addEventListeners();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZGVzL2NvaW5mbGlwLmpzIl0sIm5hbWVzIjpbInN0YXJ0QnRuIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYmV0SW5wdXQiLCJxdWVyeVNlbGVjdG9yIiwiY29pbiIsImdldEVsZW1lbnRCeUlkIiwiaW5wdXRCdG4iLCJsYXN0RHJvcEJveCIsInRvdGFsUHJvZml0Iiwic3Bpbm5pbmciLCJiZXQiLCJiZXRBbW91bnQiLCJwYXJzZUZsb2F0IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInRvRml4ZWQiLCJsYXN0QmV0QW1vdW50IiwidG90YWxBbW91bnQiLCJNYXRoIiwicmFuZG9tIiwic3R5bGUiLCJ0cmFuc2l0aW9uIiwic2V0VGltZW91dCIsImFkZCIsInJlc3VsdCIsImNyZWF0ZURyb3AiLCJjaGVja0lmUGxheWVyV29uIiwidGFrZUZyb21CYWxhbmNlIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwidmFsdWUiLCJ0aGlzIiwiaWQiLCJmbGlwQ29pbiIsImJhbGFuY2VBZnRlckJldCIsIndpbkNvaW4iLCJ3aW5Ub0FkZCIsInNldEl0ZW0iLCJzZXRCYWxhbmNlIiwiaXRlbUJveCIsImNyZWF0ZUVsZW1lbnQiLCJpdGVtSW1nMiIsIml0ZW1QYXJ0MiIsIml0ZW1JbWcxIiwiaXRlbUFtb3VudCIsIml0ZW1QYXJ0MSIsInNldEF0dHJpYnV0ZSIsIml0ZW1UZXh0MSIsIml0ZW1UZXh0MiIsInRleHRDb250ZW50IiwiY29sb3IiLCJhcHBlbmQiLCJjb3VudFRvdGFsIiwidXNlSW5wdXRCdG4iLCJhbGxJdGVtcyIsImZvckVhY2giLCJpdGVtIiwiYWRkRXZlbnRMaXN0ZW5lcnMiLCJhZGRFdmVudExpc3RlbmVyIiwibWF4QmV0QW1vdW50IiwiYnRuIiwicmVzZXRDb2luIl0sIm1hcHBpbmdzIjoiQUFBQSxJQUFNQSxTQUFXQyxTQUFTQyxpQkFBaUIsZ0JBQWdCLEVBQ3JEQyxTQUFXRixTQUFTRyxjQUFjLGtCQUFrQixFQURwREosS0FBUUMsU0FB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RUFBSUYsaUJBQWlCLFFBQVNMLFdBQVcsQ0FDMUMsQ0FBQyxDQUNGLEVBRUFJLGtCQUFrQiIsImZpbGUiOiJtb2Rlcy9jb2luZmxpcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBzdGFydEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY29pbmZsaXBfX2J0blwiKTtcclxuY29uc3QgYmV0SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmdhbWVtb2RlX19pbnB1dFwiKTtcclxuY29uc3QgY29pbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29pblwiKTtcclxuY29uc3QgaW5wdXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmdhbWVtb2RlX19idG5cIik7XHJcbmNvbnN0IGxhc3REcm9wQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb2luZmxpcF9fbGFzdGRyb3BzYm94XCIpO1xyXG5jb25zdCB0b3RhbFByb2ZpdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdG90YWxcIik7XHJcbmxldCBzcGlubmluZyA9IGZhbHNlO1xyXG5sZXQgYmV0ID0gXCJcIjtcclxubGV0IGJldEFtb3VudCA9IDA7XHJcbmxldCBsYXN0QmV0QW1vdW50ID0gMDtcclxubGV0IG1heEJldEFtb3VudCA9IHBhcnNlRmxvYXQobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJCYWxhbmNlXCIpKS50b0ZpeGVkKDIpO1xyXG5sZXQgdG90YWxBbW91bnQgPSAwO1xyXG5cclxuY29uc3QgZmxpcENvaW4gPSAoKSA9PiB7XHJcblx0c3Bpbm5pbmcgPSB0cnVlO1xyXG5cdGNvbnN0IHJlc3VsdCA9IE1hdGgucmFuZG9tKCkgPCAwLjUgPyBcImhlYWRzXCIgOiBcInRhaWxzXCI7IC8vIGdldCB3aW4gKENUID0gaGVhZHMsIFQgPSB0YWlscylcclxuXHJcblx0Y29pbi5zdHlsZS50cmFuc2l0aW9uID0gXCJ0cmFuc2Zvcm0gNnMgZWFzZS1pbi1vdXRcIjsgLy8gYWRkIGFuaW1hdGlvblxyXG5cclxuXHQvLyBhZGQgY29ycmVjdCBjbGFzcyBiYXNlZCBvbiByZXN1bHRcclxuXHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdGNvaW4uY2xhc3NMaXN0LmFkZChyZXN1bHQgPT09IFwiaGVhZHNcIiA/IFwiZmxpcC1oZWFkc1wiIDogXCJmbGlwLXRhaWxzXCIpO1xyXG5cdH0sIDEwMCk7XHJcblxyXG5cdC8vIGNoZWNrIGlmIHBsYXllciB3b25cclxuXHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdGNoZWNrSWZQbGF5ZXJXb24ocmVzdWx0KTtcclxuXHRcdGNyZWF0ZURyb3AocmVzdWx0KTtcclxuXHR9LCA2MDAwKTtcclxuXHJcblx0Ly8gYWxsb3cgcGxheWVyIHRvIGJldCBhZ2FpblxyXG5cdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0c3Bpbm5pbmcgPSBmYWxzZTtcclxuXHR9LCA2NTAwKTtcclxuXHJcblx0dGFrZUZyb21CYWxhbmNlKCk7XHJcbn07XHJcblxyXG5mdW5jdGlvbiByZXNldENvaW4oKSB7XHJcblx0aWYgKFxyXG5cdFx0c3Bpbm5pbmcgPT09IGZhbHNlICYmXHJcblx0XHRiZXRJbnB1dC52YWx1ZSA+IDAgJiZcclxuXHRcdGJldElucHV0LnZhbHVlIDw9IHBhcnNlRmxvYXQobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJCYWxhbmNlXCIpKVxyXG5cdCkge1xyXG5cdFx0YmV0ID0gXCJcIjtcclxuXHRcdGJldEFtb3VudCA9IDA7XHJcblx0XHRjb2luLnN0eWxlLnRyYW5zaXRpb24gPSBcIm5vbmVcIjtcclxuXHRcdGNvaW4uY2xhc3NMaXN0LnJlbW92ZShcImZsaXAtaGVhZHNcIiwgXCJmbGlwLXRhaWxzXCIpO1xyXG5cclxuXHRcdGJldEFtb3VudCA9IGJldElucHV0LnZhbHVlO1xyXG5cclxuXHRcdC8vIHNldCBhdCB3aGF0IGNvaW4gcGxheWVyIGJldFxyXG5cdFx0c3dpdGNoICh0aGlzLmlkKSB7XHJcblx0XHRcdGNhc2UgXCJjdFwiOlxyXG5cdFx0XHRcdGJldCA9IFwiY3RcIjtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSBcInRcIjpcclxuXHRcdFx0XHRiZXQgPSBcInRcIjtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdH1cclxuXHJcblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0ZmxpcENvaW4oKTtcclxuXHRcdH0sIDEwKTtcclxuXHR9XHJcbn1cclxuXHJcbi8vIHJlbW92ZSBiYWxhbmNlIGFmdGVyIGJldFxyXG5jb25zdCB0YWtlRnJvbUJhbGFuY2UgPSAoKSA9PiB7XHJcblx0Y29uc3QgYmFsYW5jZUFmdGVyQmV0ID1cclxuXHRcdHBhcnNlRmxvYXQobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJCYWxhbmNlXCIpKSAtIGJldEFtb3VudDtcclxuXHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIkJhbGFuY2VcIiwgYmFsYW5jZUFmdGVyQmV0LnRvRml4ZWQoMikgKyBcIiRcIik7XHJcblxyXG5cdGxhc3RCZXRBbW91bnQgPSBiZXRBbW91bnQ7XHJcblxyXG5cdHNldEJhbGFuY2UoKTtcclxufTtcclxuXHJcbmNvbnN0IGNoZWNrSWZQbGF5ZXJXb24gPSAod2luQ29pbikgPT4ge1xyXG5cdGlmICh3aW5Db2luID09PSBcImhlYWRzXCIgJiYgYmV0ID09PSBcImN0XCIpIHtcclxuXHRcdGNvbnN0IHdpblRvQWRkID1cclxuXHRcdFx0YmV0QW1vdW50ICogMiArIHBhcnNlRmxvYXQobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJCYWxhbmNlXCIpKTtcclxuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiQmFsYW5jZVwiLCB3aW5Ub0FkZC50b0ZpeGVkKDIpICsgXCIkXCIpO1xyXG5cdH0gZWxzZSBpZiAod2luQ29pbiA9PT0gXCJ0YWlsc1wiICYmIGJldCA9PT0gXCJ0XCIpIHtcclxuXHRcdGNvbnN0IHdpblRvQWRkID1cclxuXHRcdFx0YmV0QW1vdW50ICogMiArIHBhcnNlRmxvYXQobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJCYWxhbmNlXCIpKTtcclxuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiQmFsYW5jZVwiLCB3aW5Ub0FkZC50b0ZpeGVkKDIpICsgXCIkXCIpO1xyXG5cdH1cclxuXHJcblx0c2V0QmFsYW5jZSgpO1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlRHJvcCA9ICh3aW5Db2luKSA9PiB7XHJcblx0Y29uc3QgaXRlbUJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0Y29uc3QgaXRlbVBhcnQxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRjb25zdCBpdGVtUGFydDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdGNvbnN0IGl0ZW1UZXh0MSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cdGNvbnN0IGl0ZW1UZXh0MiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cdGNvbnN0IGl0ZW1JbWcxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuXHRjb25zdCBpdGVtSW1nMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcblx0Y29uc3QgaXRlbUFtb3VudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cclxuXHRpdGVtQm94LmNsYXNzTGlzdC5hZGQoXCJjb2luZmxpcF9faXRlbVwiKTtcclxuXHRpdGVtUGFydDEuY2xhc3NMaXN0LmFkZChcImNvaW5mbGlwX19pdGVtLXBhcnRcIik7XHJcblx0aXRlbVBhcnQyLmNsYXNzTGlzdC5hZGQoXCJjb2luZmxpcF9faXRlbS1wYXJ0XCIpO1xyXG5cdGl0ZW1UZXh0MS5jbGFzc0xpc3QuYWRkKFwiY29pbmZsaXBfX2l0ZW0tdGV4dFwiKTtcclxuXHRpdGVtVGV4dDIuY2xhc3NMaXN0LmFkZChcImNvaW5mbGlwX19pdGVtLXRleHRcIik7XHJcblx0aXRlbUltZzEuY2xhc3NMaXN0LmFkZChcImNvaW5mbGlwX19pdGVtLWltZ1wiKTtcclxuXHRpdGVtSW1nMi5jbGFzc0xpc3QuYWRkKFwiY29pbmZsaXBfX2l0ZW0taW1nXCIpO1xyXG5cdGl0ZW1BbW91bnQuY2xhc3NMaXN0LmFkZChcImNvaW5mbGlwX19pdGVtLXRleHRcIik7XHJcblxyXG5cdHN3aXRjaCAoYmV0KSB7XHJcblx0XHRjYXNlIFwidFwiOlxyXG5cdFx0XHRpdGVtSW1nMS5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgXCIuLi9kaXN0L2ltZy90LWljb24uanBnXCIpO1xyXG5cdFx0XHRpdGVtSW1nMS5zZXRBdHRyaWJ1dGUoXCJhbHRcIiwgXCJ0IGNvaW5cIik7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSBcImN0XCI6XHJcblx0XHRcdGl0ZW1JbWcxLnNldEF0dHJpYnV0ZShcInNyY1wiLCBcIi4uL2Rpc3QvaW1nL2N0LWljb24uanBnXCIpO1xyXG5cdFx0XHRpdGVtSW1nMS5zZXRBdHRyaWJ1dGUoXCJhbHRcIiwgXCJjdCBjb2luXCIpO1xyXG5cdFx0XHRicmVhaztcclxuXHR9XHJcblxyXG5cdHN3aXRjaCAod2luQ29pbikge1xyXG5cdFx0Y2FzZSBcInRhaWxzXCI6XHJcblx0XHRcdGl0ZW1JbWcyLnNldEF0dHJpYnV0ZShcInNyY1wiLCBcIi4uL2Rpc3QvaW1nL3QtaWNvbi5qcGdcIik7XHJcblx0XHRcdGl0ZW1JbWcyLnNldEF0dHJpYnV0ZShcImFsdFwiLCBcInQgY29pblwiKTtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlIFwiaGVhZHNcIjpcclxuXHRcdFx0aXRlbUltZzIuc2V0QXR0cmlidXRlKFwic3JjXCIsIFwiLi4vZGlzdC9pbWcvY3QtaWNvbi5qcGdcIik7XHJcblx0XHRcdGl0ZW1JbWcyLnNldEF0dHJpYnV0ZShcImFsdFwiLCBcImN0IGNvaW5cIik7XHJcblx0XHRcdGJyZWFrO1xyXG5cdH1cclxuXHJcblx0aXRlbVRleHQxLnRleHRDb250ZW50ID0gXCJCZXQ6XCI7XHJcblx0aXRlbVRleHQyLnRleHRDb250ZW50ID0gXCJEcm9wOlwiO1xyXG5cclxuXHRpZiAoXHJcblx0XHQod2luQ29pbiA9PT0gXCJoZWFkc1wiICYmIGJldCA9PT0gXCJjdFwiKSB8fFxyXG5cdFx0KHdpbkNvaW4gPT09IFwidGFpbHNcIiAmJiBiZXQgPT09IFwidFwiKVxyXG5cdCkge1xyXG5cdFx0aXRlbUFtb3VudC5zdHlsZS5jb2xvciA9IFwicmdiKDExMywgMjE0LCA3NylcIjtcclxuXHRcdGl0ZW1BbW91bnQudGV4dENvbnRlbnQgPSBcIitcIiArIHBhcnNlRmxvYXQoYmV0QW1vdW50KS50b0ZpeGVkKDIpICsgXCIkXCI7XHJcblx0fSBlbHNlIHtcclxuXHRcdGl0ZW1BbW91bnQuc3R5bGUuY29sb3IgPSBcInJnYigyMzUsIDc1LCA3NSlcIjtcclxuXHRcdGl0ZW1BbW91bnQudGV4dENvbnRlbnQgPSBcIi1cIiArIHBhcnNlRmxvYXQoYmV0QW1vdW50KS50b0ZpeGVkKDIpICsgXCIkXCI7XHJcblx0fVxyXG5cclxuXHRpdGVtUGFydDEuYXBwZW5kKGl0ZW1UZXh0MSwgaXRlbUltZzEpO1xyXG5cdGl0ZW1QYXJ0Mi5hcHBlbmQoaXRlbVRleHQyLCBpdGVtSW1nMik7XHJcblx0aXRlbUJveC5hcHBlbmQoaXRlbVBhcnQxLCBpdGVtUGFydDIsIGl0ZW1BbW91bnQpO1xyXG5cdGxhc3REcm9wQm94LmFwcGVuZChpdGVtQm94KTtcclxuXHJcblx0Y291bnRUb3RhbCgpO1xyXG59O1xyXG5cclxuY29uc3QgY291bnRUb3RhbCA9ICgpID0+IHtcclxuXHRjb25zdCBhbGxJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY29pbmZsaXBfX2l0ZW1cIik7XHJcblx0dG90YWxBbW91bnQgPSAwO1xyXG5cclxuXHRhbGxJdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcblx0XHR0b3RhbEFtb3VudCA9XHJcblx0XHRcdHBhcnNlRmxvYXQodG90YWxBbW91bnQpICsgcGFyc2VGbG9hdChpdGVtLmNoaWxkcmVuWzJdLnRleHRDb250ZW50KTtcclxuXHR9KTtcclxuXHJcblx0aWYgKHRvdGFsQW1vdW50IDwgMCkge1xyXG5cdFx0dG90YWxQcm9maXQuc3R5bGUuY29sb3IgPSBcInJnYigyMzUsIDc1LCA3NSlcIjtcclxuXHRcdHRvdGFsUHJvZml0LnRleHRDb250ZW50ID0gcGFyc2VGbG9hdCh0b3RhbEFtb3VudCkudG9GaXhlZCgyKSArIFwiJFwiO1xyXG5cdH0gZWxzZSB7XHJcblx0XHR0b3RhbFByb2ZpdC5zdHlsZS5jb2xvciA9IFwicmdiKDExMywgMjE0LCA3NylcIjtcclxuXHRcdHRvdGFsUHJvZml0LnRleHRDb250ZW50ID0gXCIrXCIgKyBwYXJzZUZsb2F0KHRvdGFsQW1vdW50KS50b0ZpeGVkKDIpICsgXCIkXCI7XHJcblx0fVxyXG59O1xyXG5cclxuZnVuY3Rpb24gdXNlSW5wdXRCdG4oKSB7XHJcblx0c3dpdGNoICh0aGlzLmlkKSB7XHJcblx0XHRjYXNlIFwiY2xlYXJcIjpcclxuXHRcdFx0YmV0SW5wdXQudmFsdWUgPSBcIjBcIjtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlIFwibGFzdFwiOlxyXG5cdFx0XHRiZXRJbnB1dC52YWx1ZSA9IGxhc3RCZXRBbW91bnQ7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSBcIisxXCI6XHJcblx0XHRcdGJldElucHV0LnZhbHVlID0gcGFyc2VGbG9hdChiZXRJbnB1dC52YWx1ZSkgKyAxO1xyXG5cdFx0XHRicmVhaztcclxuXHRcdGNhc2UgXCIrMTBcIjpcclxuXHRcdFx0YmV0SW5wdXQudmFsdWUgPSBwYXJzZUZsb2F0KGJldElucHV0LnZhbHVlKSArIDEwO1xyXG5cdFx0XHRicmVhaztcclxuXHRcdGNhc2UgXCIrMTAwXCI6XHJcblx0XHRcdGJldElucHV0LnZhbHVlID0gcGFyc2VGbG9hdChiZXRJbnB1dC52YWx1ZSkgKyAxMDA7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSBcIisxMDAwXCI6XHJcblx0XHRcdGJldElucHV0LnZhbHVlID0gcGFyc2VGbG9hdChiZXRJbnB1dC52YWx1ZSkgKyAxMDAwO1xyXG5cdFx0XHRicmVhaztcclxuXHRcdGNhc2UgXCIxLzJcIjpcclxuXHRcdFx0YmV0SW5wdXQudmFsdWUgPSBwYXJzZUZsb2F0KGJldElucHV0LnZhbHVlKSAvIDI7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSBcIngyXCI6XHJcblx0XHRcdGJldElucHV0LnZhbHVlID0gcGFyc2VGbG9hdChiZXRJbnB1dC52YWx1ZSkgKiAyO1xyXG5cdFx0XHRicmVhaztcclxuXHRcdGNhc2UgXCJtYXhcIjpcclxuXHRcdFx0YmV0SW5wdXQudmFsdWUgPSBtYXhCZXRBbW91bnQ7XHJcblx0XHRcdGJyZWFrO1xyXG5cdH1cclxufVxyXG5cclxuY29uc3QgYWRkRXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XHJcblx0c3RhcnRCdG4uZm9yRWFjaCgoYnRuKSA9PiB7XHJcblx0XHRidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHJlc2V0Q29pbik7XHJcblx0fSk7XHJcblxyXG5cdGlucHV0QnRuLmZvckVhY2goKGJ0bikgPT4ge1xyXG5cdFx0YnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB1c2VJbnB1dEJ0bik7XHJcblx0fSk7XHJcbn07XHJcblxyXG5hZGRFdmVudExpc3RlbmVycygpO1xyXG4iXX0=
