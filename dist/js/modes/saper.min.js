var allBoxes=document.querySelectorAll(".mines__item"),allCheckboxes=document.querySelectorAll(".battles__options-checkbox"),fieldBg=document.querySelector(".mines__field-bg"),allUnderBox=document.querySelectorAll(".mines__item-under"),allUnderBoxArray=Array.from(allUnderBox),startBtn=document.querySelector("#start"),withdrawBtn=document.querySelector("#withdraw"),winAmount=document.querySelector("#winamount"),betInput=document.querySelector(".gamemode__input"),betBtn=document.querySelectorAll(".gamemode__btn"),createdField=!1,canClick=!0,currentAmountOfWin=0,betAmount=0,pickedCorrect=0,minesAmount=3;function swapUp(){var e=this;canClick=!(canClick=!0),this.classList.remove("mines-canhover"),this.classList.add("flip-down"),this.children[0].classList.add("hidden"),setTimeout(function(){e.children[1].classList.remove("hidden"),e.classList.add("flip-up"),((canClick=!0)===e.children[1].firstElementChild.classList.contains("mines__item-img")?playerLost:(pickedCorrect++,getAmountOfTotal))()},100)}var getRandomBoxNumber=function(){return Math.floor(25*Math.random())},createAmountOfMines=function(){if(null!==allUnderBoxArray[0].firstElementChild&&(allUnderBoxArray.forEach(function(e){e.firstElementChild.remove()}),allUnderBoxArray.forEach(function(e){e.parentElement.classList.add("mines-canhover"),e.parentElement.firstElementChild.classList.remove("hidden"),e.parentElement.lastElementChild.classList.add("hidden"),e.parentElement.classList.remove("flip-up"),e.parentElement.classList.remove("flip-down")})),!1===createdField&&0<betInput.value&&betInput.value<=parseFloat(localStorage.getItem("Balance"))){fieldBg.classList.add("hidden"),betAmount=parseFloat(betInput.value),currentAmountOfWin=parseFloat(betAmount),startBtn.classList.add("hidden"),withdrawBtn.classList.remove("hidden"),winAmount.textContent=parseFloat(betAmount).toFixed(2)+"$";var e=parseFloat(localStorage.getItem("Balance"))-parseFloat(betAmount);for(localStorage.setItem("Balance",parseFloat(e).toFixed(2)+"$"),allCheckboxes.forEach(function(e){!0===e.checked&&(minesAmount=e.id)}),i=0;i<minesAmount;i++){for(var t=document.createElement("img"),n=(t.classList.add("mines__item-img"),t.setAttribute("src","../dist/img/mine_no_bg.png"),t.setAttribute("alt","Mine icon"),getRandomBoxNumber());0<allUnderBoxArray[n].children.length;)n=getRandomBoxNumber();allUnderBoxArray[n].append(t)}setBalance(),createAllCheckMarks(),createdField=!0}},createAllCheckMarks=function(){allUnderBoxArray.forEach(function(e){var t;0===e.childElementCount&&((t=document.createElement("i")).classList.add("fa-solid","fa-check","mines__item-icon","mines__item-icon--green"),e.append(t))})},getAmountOfTotal=function(){switch(minesAmount){case"3":switch(pickedCorrect){case 1:currentAmountOfWin+=.15*parseFloat(betAmount);break;case 2:currentAmountOfWin+=.25*parseFloat(betAmount);break;case 3:currentAmountOfWin+=.4*parseFloat(betAmount);break;case 4:currentAmountOfWin+=.6*parseFloat(betAmount);break;case 5:currentAmountOfWin+=.8*parseFloat(betAmount);break;case 6:currentAmountOfWin+=1.1*parseFloat(betAmount);break;case 7:currentAmountOfWin+=1.5*parseFloat(betAmount);break;case 8:currentAmountOfWin+=2*parseFloat(betAmount);break;case 9:currentAmountOfWin+=2.5*parseFloat(betAmount);break;case 10:currentAmountOfWin+=3*parseFloat(betAmount);break;case 11:currentAmountOfWin+=3.8*parseFloat(betAmount);break;case 12:currentAmountOfWin+=4.7*parseFloat(betAmount);break;case 13:currentAmountOfWin+=5.7*parseFloat(betAmount);break;case 14:currentAmountOfWin+=7*parseFloat(betAmount);break;case 15:currentAmountOfWin+=8.5*parseFloat(betAmount);break;case 16:currentAmountOfWin+=10.5*parseFloat(betAmount);break;case 17:currentAmountOfWin+=12.8*parseFloat(betAmount);break;case 18:currentAmountOfWin+=15.3*parseFloat(betAmount);break;case 19:currentAmountOfWin+=18.5*parseFloat(betAmount);break;case 20:currentAmountOfWin+=22*parseFloat(betAmount);break;case 21:currentAmountOfWin+=27*parseFloat(betAmount);break;case 22:currentAmountOfWin+=35*parseFloat(betAmount),playerCheckAll()}break;case"6":switch(pickedCorrect){case 1:currentAmountOfWin+=.2*parseFloat(betAmount);break;case 2:currentAmountOfWin+=.35*parseFloat(betAmount);break;case 3:currentAmountOfWin+=.6*parseFloat(betAmount);break;case 4:currentAmountOfWin+=.85*parseFloat(betAmount);break;case 5:currentAmountOfWin+=1.2*parseFloat(betAmount);break;case 6:currentAmountOfWin+=1.6*parseFloat(betAmount);break;case 7:currentAmountOfWin+=2.1*parseFloat(betAmount);break;case 8:currentAmountOfWin+=2.8*parseFloat(betAmount);break;case 9:currentAmountOfWin+=3.5*parseFloat(betAmount);break;case 10:currentAmountOfWin+=4.3*parseFloat(betAmount);break;case 11:currentAmountOfWin+=5.5*parseFloat(betAmount);break;case 12:currentAmountOfWin+=7*parseFloat(betAmount);break;case 13:currentAmountOfWin+=9*parseFloat(betAmount);break;case 14:currentAmountOfWin+=11.5*parseFloat(betAmount);break;case 15:currentAmountOfWin+=14.5*parseFloat(betAmount);break;case 16:currentAmountOfWin+=18*parseFloat(betAmount);break;case 17:currentAmountOfWin+=22.5*parseFloat(betAmount);break;case 18:currentAmountOfWin+=28*parseFloat(betAmount);break;case 19:currentAmountOfWin+=35*parseFloat(betAmount),playerCheckAll()}break;case"12":switch(pickedCorrect){case 1:currentAmountOfWin+=.3*parseFloat(betAmount);break;case 2:currentAmountOfWin+=.55*parseFloat(betAmount);break;case 3:currentAmountOfWin+=.85*parseFloat(betAmount);break;case 4:currentAmountOfWin+=1.25*parseFloat(betAmount);break;case 5:currentAmountOfWin+=1.8*parseFloat(betAmount);break;case 6:currentAmountOfWin+=2.4*parseFloat(betAmount);break;case 7:currentAmountOfWin+=3.2*parseFloat(betAmount);break;case 8:currentAmountOfWin+=4.2*parseFloat(betAmount);break;case 9:currentAmountOfWin+=5.5*parseFloat(betAmount);break;case 10:currentAmountOfWin+=7.2*parseFloat(betAmount);break;case 11:currentAmountOfWin+=9.5*parseFloat(betAmount);break;case 12:currentAmountOfWin+=12.5*parseFloat(betAmount);break;case 13:currentAmountOfWin+=17*parseFloat(betAmount),playerCheckAll()}break;case"24":1===pickedCorrect&&(currentAmountOfWin+=25*parseFloat(betAmount),playerCheckAll())}winAmount.textContent=parseFloat(currentAmountOfWin).toFixed(2)+"$"},playerLost=function(){fieldBg.classList.remove("hidden"),fieldBg.style.color="rgb(235, 75, 75)",fieldBg.textContent="You lost",withdrawBtn.classList.add("hidden"),startBtn.classList.remove("hidden"),winAmount.textContent="0.00$",allUnderBoxArray.forEach(function(e){e.firstElementChild.classList.contains("mines__item-img")&&(e.parentElement.classList.add("flip-down"),e.parentElement.firstElementChild.classList.add("hidden"),setTimeout(function(){e.parentElement.lastElementChild.classList.remove("hidden"),e.parentElement.classList.add("flip-up")},100))}),resetVariables()},playerCheckAll=function(){fieldBg.classList.remove("hidden"),fieldBg.style.color="rgb(113, 214, 77)",fieldBg.textContent="You Won "+currentAmountOfWin+"$",withdrawBtn.classList.add("hidden"),startBtn.classList.remove("hidden"),winAmount.textContent="0.00$",allUnderBoxArray.forEach(function(e){e.firstElementChild.classList.contains("mines__item-img")&&(e.parentElement.classList.add("flip-down"),e.parentElement.firstElementChild.classList.add("hidden"),setTimeout(function(){e.parentElement.lastElementChild.classList.remove("hidden"),e.parentElement.classList.add("flip-up")},100))}),resetVariables()},withdraw=function(){var e;!0===createdField&&0<parseFloat(currentAmountOfWin)&&(e=parseFloat(localStorage.getItem("Balance"))+parseFloat(currentAmountOfWin),localStorage.setItem("Balance",parseFloat(e).toFixed(2)+"$"),setBalance(),playerCheckAll())},resetVariables=function(){createdField=!1,pickedCorrect=betAmount=currentAmountOfWin=0};function setPlayersAmount(){allCheckboxes.forEach(function(e){e.checked=!1}),this.checked=!0}function useInputBtn(){switch(this.id){case"clear":betInput.value="0";break;case"+1":betInput.value=parseFloat(betInput.value)+1;break;case"+10":betInput.value=parseFloat(betInput.value)+10;break;case"+100":betInput.value=parseFloat(betInput.value)+100}}var addEvenetListeners=function(){allBoxes.forEach(function(e){e.addEventListener("click",swapUp)}),allCheckboxes.forEach(function(e){e.addEventListener("click",setPlayersAmount)}),betBtn.forEach(function(e){e.addEventListener("click",useInputBtn)}),startBtn.addEventListener("click",createAmountOfMines),withdrawBtn.addEventListener("click",withdraw)};addEvenetListeners();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZGVzL3NhcGVyLmpzIl0sIm5hbWVzIjpbImFsbEJveGVzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYWxsQ2hlY2tib3hlcyIsImZpZWxkQmciLCJxdWVyeVNlbGVjdG9yIiwiYWxsVW5kZXJCb3giLCJhbGxVbmRlckJveEFycmF5IiwiZnJvbSIsInN0YXJ0QnRuIiwid2l0aGRyYXdCdG4iLCJ3aW5BbW91bnQiLCJiZXRJbnB1dCIsImJldEJ0biIsImNyZWF0ZWRGaWVsZCIsImNhbkNsaWNrIiwiY3VycmVudEFtb3VudE9mV2luIiwiYmV0QW1vdW50IiwibWluZXNBbW91bnQiLCJfdGhpcyIsInRoaXMiLCJyZW1vdmUiLCJhZGQiLCJjaGlsZHJlbiIsImNsYXNzTGlzdCIsInNldFRpbWVvdXQiLCJwbGF5ZXJMb3N0IiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJjb250YWlucyIsInBpY2tlZENvcnJlY3QiLCJnZXRSYW5kb21Cb3hOdW1iZXIiLCJnZXRBbW91bnRPZlRvdGFsIiwiZm9yRWFjaCIsInJhbmRvbSIsImJveCIsImxhc3RFbGVtZW50Q2hpbGQiLCJwYXJlbnRFbGVtZW50IiwicGFyc2VGbG9hdCIsInRleHRDb250ZW50IiwidmFsdWUiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwibWluZUltZyIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJyYW5kb21Cb3hJbmRleCIsImxlbmd0aCIsImFtb3VudFRvVGFrZUZyb21CYWxhbmNlIiwic2V0SXRlbSIsInRvRml4ZWQiLCJpdGVtIiwiY2hlY2tlZCIsImlkIiwiaSIsImljb24iLCJhcHBlbmQiLCJzZXRCYWxhbmNlIiwiY3JlYXRlQWxsQ2hlY2tNYXJrcyIsInBsYXllckNoZWNrQWxsIiwicmVzZXRWYXJpYWJsZXMiLCJ3aXRoZHJhdyIsImNvbG9yIiwic2V0UGxheWVyc0Ftb3VudCIsInVzZUlucHV0QnRuIiwiYWRkRXZlbmV0TGlzdGVuZXJzIiwiYWRkRXZlbnRMaXN0ZW5lciIsInN3YXBVcCIsImJ0biIsImNyZWF0ZUFtb3VudE9mTWluZXMiLCJhbW91bnRUb0FkZFRvQmFsYW5jZSJdLCJtYXBwaW5ncyI6IkFBQUEsSUFBTUEsU0FBV0MsU0FBU0MsaUJBQWlCLGNBQWMsRUFDbkRDLGNBQWdCRixTQUFTQyxpQkFBaUIsNEJBQTRCLEVBRHRFRixRQUFXQyxTQUFTQyxjQUFBQSxrQkFBZ0MsRUFDcERDLFlBQWdCRixTQUFTQyxpQkFBaUIsb0JBQUEsRUFDMUNFLGlCQUFtQkMsTUFBQUEsS0FBYUMsV0FBQyxFQUNqQ0EsU0FBV0wsU0FBV0ksY0FBQ0gsUUFBaUIsRUFDeENLLFlBQWdCTixTQUFTTyxjQUFLRixXQUFZLEVBQzFDRyxVQUFXUixTQUFTSSxjQUFjLFlBQVMsRUFDM0NLLFNBQVdULFNBQVdJLGNBQWMsa0JBQWEsRUFDakRNLE9BQVNWLFNBQVdDLGlCQUFlLGdCQUFhLEVBQ2hEVSxhQUFXWCxDQUFBQSxFQUNYWSxTQUFTWixDQUFBQSxFQUNYYSxtQkFBb0IsRUFDcEJDLFVBQVcsRUFDWEMsY0FBQUEsRUFDQUMsWUFBYSxFQUVqQixTQUFJQyxTQUFjLElBQUFDLEVBQUFDLEtBRUFMLFNBQUEsRUFBbEJBLFNBQWUsQ0FBQSxHQUNkSyxLQUFLTCxVQUFXTSxPQUFPLGdCQUFBLEVBR3RCRCxLQUZBTCxVQUFXTyxJQUFLLFdBQUEsRUFHaEJGLEtBRkFHLFNBQUtDLEdBQVVILFVBQU9DLElBQUEsUUFBQSxFQUl0QkcsV0FGS0YsV0FHSkosRUFERE0sU0FBVyxHQUFBRCxVQUFNSCxPQUFBLFFBQUEsRUFFaEJGLEVBREFBLFVBQUtJLElBQVUsU0FBRUMsSUFFakJULFNBREtTLENBQUFBLEtBSUpMLEVBSUFPLFNBQVUsR0FBRUMsa0JBQUFILFVBQUFJLFNBSFgsaUJBQ0QsRUFFQUYsWUFVSkcsYUFBTUMsR0FDTEMsbUJBTkVBLENBUUYsRUFBQSxHQUFBLENBR0QsQ0FOQSxJQVFFeEIsbUJBQWlCeUIsV0FMbEIsT0FNTUwsS0FBQUEsTUFBMEIsR0FBUk4sS0FBT1ksT0FBQyxD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QyxDQUFDLEVBRUR0RCxTQUFTd0QsaUJBQWlCLFFBQVNHLG1CQUFtQixFQUN0RDFELFlBQVl1RCxpQkFBaUIsUUFBU0wsUUFBUSxDQUMvQyxFQUVBSSxtQkFBbUIiLCJmaWxlIjoibW9kZXMvc2FwZXIubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYWxsQm94ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1pbmVzX19pdGVtXCIpO1xyXG5jb25zdCBhbGxDaGVja2JveGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5iYXR0bGVzX19vcHRpb25zLWNoZWNrYm94XCIpO1xyXG5jb25zdCBmaWVsZEJnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5taW5lc19fZmllbGQtYmdcIik7XHJcbmNvbnN0IGFsbFVuZGVyQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5taW5lc19faXRlbS11bmRlclwiKTtcclxuY29uc3QgYWxsVW5kZXJCb3hBcnJheSA9IEFycmF5LmZyb20oYWxsVW5kZXJCb3gpO1xyXG5jb25zdCBzdGFydEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjc3RhcnRcIik7XHJcbmNvbnN0IHdpdGhkcmF3QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN3aXRoZHJhd1wiKTtcclxuY29uc3Qgd2luQW1vdW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN3aW5hbW91bnRcIik7XHJcbmNvbnN0IGJldElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYW1lbW9kZV9faW5wdXRcIik7XHJcbmNvbnN0IGJldEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZ2FtZW1vZGVfX2J0blwiKTtcclxubGV0IGNyZWF0ZWRGaWVsZCA9IGZhbHNlO1xyXG5sZXQgY2FuQ2xpY2sgPSB0cnVlO1xyXG5sZXQgY3VycmVudEFtb3VudE9mV2luID0gMDtcclxubGV0IGJldEFtb3VudCA9IDA7XHJcbmxldCBwaWNrZWRDb3JyZWN0ID0gMDtcclxubGV0IG1pbmVzQW1vdW50ID0gMztcclxuXHJcbmZ1bmN0aW9uIHN3YXBVcCgpIHtcclxuXHRpZiAoKGNhbkNsaWNrID0gdHJ1ZSkpIHtcclxuXHRcdGNhbkNsaWNrID0gZmFsc2U7XHJcblx0XHR0aGlzLmNsYXNzTGlzdC5yZW1vdmUoXCJtaW5lcy1jYW5ob3ZlclwiKTtcclxuXHRcdHRoaXMuY2xhc3NMaXN0LmFkZChcImZsaXAtZG93blwiKTtcclxuXHRcdHRoaXMuY2hpbGRyZW5bMF0uY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuXHJcblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0dGhpcy5jaGlsZHJlblsxXS5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xyXG5cdFx0XHR0aGlzLmNsYXNzTGlzdC5hZGQoXCJmbGlwLXVwXCIpO1xyXG5cdFx0XHRjYW5DbGljayA9IHRydWU7XHJcblxyXG5cdFx0XHRpZiAoXHJcblx0XHRcdFx0dGhpcy5jaGlsZHJlblsxXS5maXJzdEVsZW1lbnRDaGlsZC5jbGFzc0xpc3QuY29udGFpbnMoXHJcblx0XHRcdFx0XHRcIm1pbmVzX19pdGVtLWltZ1wiXHJcblx0XHRcdFx0KSA9PT0gdHJ1ZVxyXG5cdFx0XHQpIHtcclxuXHRcdFx0XHRwbGF5ZXJMb3N0KCk7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRwaWNrZWRDb3JyZWN0Kys7XHJcblx0XHRcdGdldEFtb3VudE9mVG90YWwoKTtcclxuXHRcdH0sIDEwMCk7XHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBnZXRSYW5kb21Cb3hOdW1iZXIgPSAoKSA9PiB7XHJcblx0Y29uc3QgcmFuZG9tQm94ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjUpO1xyXG5cclxuXHRyZXR1cm4gcmFuZG9tQm94O1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlQW1vdW50T2ZNaW5lcyA9ICgpID0+IHtcclxuXHRpZiAoYWxsVW5kZXJCb3hBcnJheVswXS5maXJzdEVsZW1lbnRDaGlsZCAhPT0gbnVsbCkge1xyXG5cdFx0YWxsVW5kZXJCb3hBcnJheS5mb3JFYWNoKChib3gpID0+IHtcclxuXHRcdFx0Ym94LmZpcnN0RWxlbWVudENoaWxkLnJlbW92ZSgpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0YWxsVW5kZXJCb3hBcnJheS5mb3JFYWNoKChib3gpID0+IHtcclxuXHRcdFx0Ym94LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm1pbmVzLWNhbmhvdmVyXCIpO1xyXG5cdFx0XHRib3gucGFyZW50RWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZC5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xyXG5cdFx0XHRib3gucGFyZW50RWxlbWVudC5sYXN0RWxlbWVudENoaWxkLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcblx0XHRcdGJveC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJmbGlwLXVwXCIpO1xyXG5cdFx0XHRib3gucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiZmxpcC1kb3duXCIpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRpZiAoXHJcblx0XHRjcmVhdGVkRmllbGQgPT09IGZhbHNlICYmXHJcblx0XHRiZXRJbnB1dC52YWx1ZSA+IDAgJiZcclxuXHRcdGJldElucHV0LnZhbHVlIDw9IHBhcnNlRmxvYXQobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJCYWxhbmNlXCIpKVxyXG5cdCkge1xyXG5cdFx0ZmllbGRCZy5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG5cdFx0YmV0QW1vdW50ID0gcGFyc2VGbG9hdChiZXRJbnB1dC52YWx1ZSk7XHJcblx0XHRjdXJyZW50QW1vdW50T2ZXaW4gPSBwYXJzZUZsb2F0KGJldEFtb3VudCk7XHJcblx0XHRzdGFydEJ0bi5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG5cdFx0d2l0aGRyYXdCdG4uY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcclxuXHRcdHdpbkFtb3VudC50ZXh0Q29udGVudCA9IHBhcnNlRmxvYXQoYmV0QW1vdW50KS50b0ZpeGVkKDIpICsgXCIkXCI7XHJcblxyXG5cdFx0Y29uc3QgYW1vdW50VG9UYWtlRnJvbUJhbGFuY2UgPVxyXG5cdFx0XHRwYXJzZUZsb2F0KGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiQmFsYW5jZVwiKSkgLSBwYXJzZUZsb2F0KGJldEFtb3VudCk7XHJcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcclxuXHRcdFx0XCJCYWxhbmNlXCIsXHJcblx0XHRcdHBhcnNlRmxvYXQoYW1vdW50VG9UYWtlRnJvbUJhbGFuY2UpLnRvRml4ZWQoMikgKyBcIiRcIlxyXG5cdFx0KTtcclxuXHJcblx0XHRhbGxDaGVja2JveGVzLmZvckVhY2goKGl0ZW0pID0+IHtcclxuXHRcdFx0aWYgKGl0ZW0uY2hlY2tlZCA9PT0gdHJ1ZSkge1xyXG5cdFx0XHRcdG1pbmVzQW1vdW50ID0gaXRlbS5pZDtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0Zm9yIChpID0gMDsgaSA8IG1pbmVzQW1vdW50OyBpKyspIHtcclxuXHRcdFx0Y29uc3QgbWluZUltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcblx0XHRcdG1pbmVJbWcuY2xhc3NMaXN0LmFkZChcIm1pbmVzX19pdGVtLWltZ1wiKTtcclxuXHRcdFx0bWluZUltZy5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgXCIuLi9kaXN0L2ltZy9taW5lX25vX2JnLnBuZ1wiKTtcclxuXHRcdFx0bWluZUltZy5zZXRBdHRyaWJ1dGUoXCJhbHRcIiwgXCJNaW5lIGljb25cIik7XHJcblxyXG5cdFx0XHRsZXQgcmFuZG9tQm94SW5kZXggPSBnZXRSYW5kb21Cb3hOdW1iZXIoKTtcclxuXHRcdFx0d2hpbGUgKGFsbFVuZGVyQm94QXJyYXlbcmFuZG9tQm94SW5kZXhdLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRyYW5kb21Cb3hJbmRleCA9IGdldFJhbmRvbUJveE51bWJlcigpOyAvLyBKZcWbbGkgbWEgZHppZWNrbywgbG9zdWogcG9ub3duaWVcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gRG9kYWogbWluxJkgZG8gcHVzdGVnbyBwb2xhXHJcblx0XHRcdGFsbFVuZGVyQm94QXJyYXlbcmFuZG9tQm94SW5kZXhdLmFwcGVuZChtaW5lSW1nKTtcclxuXHRcdH1cclxuXHJcblx0XHRzZXRCYWxhbmNlKCk7XHJcblx0XHRjcmVhdGVBbGxDaGVja01hcmtzKCk7XHJcblx0XHRjcmVhdGVkRmllbGQgPSB0cnVlO1xyXG5cdH1cclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZUFsbENoZWNrTWFya3MgPSAoKSA9PiB7XHJcblx0YWxsVW5kZXJCb3hBcnJheS5mb3JFYWNoKChpdGVtKSA9PiB7XHJcblx0XHRpZiAoaXRlbS5jaGlsZEVsZW1lbnRDb3VudCA9PT0gMCkge1xyXG5cdFx0XHRjb25zdCBpY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlcIik7XHJcblx0XHRcdGljb24uY2xhc3NMaXN0LmFkZChcclxuXHRcdFx0XHRcImZhLXNvbGlkXCIsXHJcblx0XHRcdFx0XCJmYS1jaGVja1wiLFxyXG5cdFx0XHRcdFwibWluZXNfX2l0ZW0taWNvblwiLFxyXG5cdFx0XHRcdFwibWluZXNfX2l0ZW0taWNvbi0tZ3JlZW5cIlxyXG5cdFx0XHQpO1xyXG5cclxuXHRcdFx0aXRlbS5hcHBlbmQoaWNvbik7XHJcblx0XHR9XHJcblx0fSk7XHJcbn07XHJcblxyXG5jb25zdCBnZXRBbW91bnRPZlRvdGFsID0gKCkgPT4ge1xyXG5cdHN3aXRjaCAobWluZXNBbW91bnQpIHtcclxuXHRcdGNhc2UgXCIzXCI6XHJcblx0XHRcdHN3aXRjaCAocGlja2VkQ29ycmVjdCkge1xyXG5cdFx0XHRcdGNhc2UgMTpcclxuXHRcdFx0XHRcdGN1cnJlbnRBbW91bnRPZldpbiA9XHJcblx0XHRcdFx0XHRcdGN1cnJlbnRBbW91bnRPZldpbiArIHBhcnNlRmxvYXQoYmV0QW1vdW50KSAqIDAuMTU7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIDI6XHJcblx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gPVxyXG5cdFx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gKyBwYXJzZUZsb2F0KGJldEFtb3VudCkgKiAwLjI1O1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSAzOlxyXG5cdFx0XHRcdFx0Y3VycmVudEFtb3VudE9mV2luID0gY3VycmVudEFtb3VudE9mV2luICsgcGFyc2VGbG9hdChiZXRBbW91bnQpICogMC40O1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSA0OlxyXG5cdFx0XHRcdFx0Y3VycmVudEFtb3VudE9mV2luID0gY3VycmVudEFtb3VudE9mV2luICsgcGFyc2VGbG9hdChiZXRBbW91bnQpICogMC42O1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSA1OlxyXG5cdFx0XHRcdFx0Y3VycmVudEFtb3VudE9mV2luID0gY3VycmVudEFtb3VudE9mV2luICsgcGFyc2VGbG9hdChiZXRBbW91bnQpICogMC44O1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSA2OlxyXG5cdFx0XHRcdFx0Y3VycmVudEFtb3VudE9mV2luID0gY3VycmVudEFtb3VudE9mV2luICsgcGFyc2VGbG9hdChiZXRBbW91bnQpICogMS4xO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSA3OlxyXG5cdFx0XHRcdFx0Y3VycmVudEFtb3VudE9mV2luID0gY3VycmVudEFtb3VudE9mV2luICsgcGFyc2VGbG9hdChiZXRBbW91bnQpICogMS41O1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSA4OlxyXG5cdFx0XHRcdFx0Y3VycmVudEFtb3VudE9mV2luID0gY3VycmVudEFtb3VudE9mV2luICsgcGFyc2VGbG9hdChiZXRBbW91bnQpICogMjtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgOTpcclxuXHRcdFx0XHRcdGN1cnJlbnRBbW91bnRPZldpbiA9IGN1cnJlbnRBbW91bnRPZldpbiArIHBhcnNlRmxvYXQoYmV0QW1vdW50KSAqIDIuNTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgMTA6XHJcblx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gPSBjdXJyZW50QW1vdW50T2ZXaW4gKyBwYXJzZUZsb2F0KGJldEFtb3VudCkgKiAzO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSAxMTpcclxuXHRcdFx0XHRcdGN1cnJlbnRBbW91bnRPZldpbiA9IGN1cnJlbnRBbW91bnRPZldpbiArIHBhcnNlRmxvYXQoYmV0QW1vdW50KSAqIDMuODtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgMTI6XHJcblx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gPSBjdXJyZW50QW1vdW50T2ZXaW4gKyBwYXJzZUZsb2F0KGJldEFtb3VudCkgKiA0Ljc7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIDEzOlxyXG5cdFx0XHRcdFx0Y3VycmVudEFtb3VudE9mV2luID0gY3VycmVudEFtb3VudE9mV2luICsgcGFyc2VGbG9hdChiZXRBbW91bnQpICogNS43O1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSAxNDpcclxuXHRcdFx0XHRcdGN1cnJlbnRBbW91bnRPZldpbiA9IGN1cnJlbnRBbW91bnRPZldpbiArIHBhcnNlRmxvYXQoYmV0QW1vdW50KSAqIDc7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIDE1OlxyXG5cdFx0XHRcdFx0Y3VycmVudEFtb3VudE9mV2luID0gY3VycmVudEFtb3VudE9mV2luICsgcGFyc2VGbG9hdChiZXRBbW91bnQpICogOC41O1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSAxNjpcclxuXHRcdFx0XHRcdGN1cnJlbnRBbW91bnRPZldpbiA9XHJcblx0XHRcdFx0XHRcdGN1cnJlbnRBbW91bnRPZldpbiArIHBhcnNlRmxvYXQoYmV0QW1vdW50KSAqIDEwLjU7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIDE3OlxyXG5cdFx0XHRcdFx0Y3VycmVudEFtb3VudE9mV2luID1cclxuXHRcdFx0XHRcdFx0Y3VycmVudEFtb3VudE9mV2luICsgcGFyc2VGbG9hdChiZXRBbW91bnQpICogMTIuODtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgMTg6XHJcblx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gPVxyXG5cdFx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gKyBwYXJzZUZsb2F0KGJldEFtb3VudCkgKiAxNS4zO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSAxOTpcclxuXHRcdFx0XHRcdGN1cnJlbnRBbW91bnRPZldpbiA9XHJcblx0XHRcdFx0XHRcdGN1cnJlbnRBbW91bnRPZldpbiArIHBhcnNlRmxvYXQoYmV0QW1vdW50KSAqIDE4LjU7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIDIwOlxyXG5cdFx0XHRcdFx0Y3VycmVudEFtb3VudE9mV2luID0gY3VycmVudEFtb3VudE9mV2luICsgcGFyc2VGbG9hdChiZXRBbW91bnQpICogMjI7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIDIxOlxyXG5cdFx0XHRcdFx0Y3VycmVudEFtb3VudE9mV2luID0gY3VycmVudEFtb3VudE9mV2luICsgcGFyc2VGbG9hdChiZXRBbW91bnQpICogMjc7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIDIyOlxyXG5cdFx0XHRcdFx0Y3VycmVudEFtb3VudE9mV2luID0gY3VycmVudEFtb3VudE9mV2luICsgcGFyc2VGbG9hdChiZXRBbW91bnQpICogMzU7XHJcblx0XHRcdFx0XHRwbGF5ZXJDaGVja0FsbCgpO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlIFwiNlwiOlxyXG5cdFx0XHRzd2l0Y2ggKHBpY2tlZENvcnJlY3QpIHtcclxuXHRcdFx0XHRjYXNlIDE6XHJcblx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gPSBjdXJyZW50QW1vdW50T2ZXaW4gKyBwYXJzZUZsb2F0KGJldEFtb3VudCkgKiAwLjI7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIDI6XHJcblx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gPVxyXG5cdFx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gKyBwYXJzZUZsb2F0KGJldEFtb3VudCkgKiAwLjM1O1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSAzOlxyXG5cdFx0XHRcdFx0Y3VycmVudEFtb3VudE9mV2luID0gY3VycmVudEFtb3VudE9mV2luICsgcGFyc2VGbG9hdChiZXRBbW91bnQpICogMC42O1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSA0OlxyXG5cdFx0XHRcdFx0Y3VycmVudEFtb3VudE9mV2luID1cclxuXHRcdFx0XHRcdFx0Y3VycmVudEFtb3VudE9mV2luICsgcGFyc2VGbG9hdChiZXRBbW91bnQpICogMC44NTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgNTpcclxuXHRcdFx0XHRcdGN1cnJlbnRBbW91bnRPZldpbiA9IGN1cnJlbnRBbW91bnRPZldpbiArIHBhcnNlRmxvYXQoYmV0QW1vdW50KSAqIDEuMjtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgNjpcclxuXHRcdFx0XHRcdGN1cnJlbnRBbW91bnRPZldpbiA9IGN1cnJlbnRBbW91bnRPZldpbiArIHBhcnNlRmxvYXQoYmV0QW1vdW50KSAqIDEuNjtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgNzpcclxuXHRcdFx0XHRcdGN1cnJlbnRBbW91bnRPZldpbiA9IGN1cnJlbnRBbW91bnRPZldpbiArIHBhcnNlRmxvYXQoYmV0QW1vdW50KSAqIDIuMTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgODpcclxuXHRcdFx0XHRcdGN1cnJlbnRBbW91bnRPZldpbiA9IGN1cnJlbnRBbW91bnRPZldpbiArIHBhcnNlRmxvYXQoYmV0QW1vdW50KSAqIDIuODtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgOTpcclxuXHRcdFx0XHRcdGN1cnJlbnRBbW91bnRPZldpbiA9IGN1cnJlbnRBbW91bnRPZldpbiArIHBhcnNlRmxvYXQoYmV0QW1vdW50KSAqIDMuNTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgMTA6XHJcblx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gPSBjdXJyZW50QW1vdW50T2ZXaW4gKyBwYXJzZUZsb2F0KGJldEFtb3VudCkgKiA0LjM7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIDExOlxyXG5cdFx0XHRcdFx0Y3VycmVudEFtb3VudE9mV2luID0gY3VycmVudEFtb3VudE9mV2luICsgcGFyc2VGbG9hdChiZXRBbW91bnQpICogNS41O1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSAxMjpcclxuXHRcdFx0XHRcdGN1cnJlbnRBbW91bnRPZldpbiA9IGN1cnJlbnRBbW91bnRPZldpbiArIHBhcnNlRmxvYXQoYmV0QW1vdW50KSAqIDc7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIDEzOlxyXG5cdFx0XHRcdFx0Y3VycmVudEFtb3VudE9mV2luID0gY3VycmVudEFtb3VudE9mV2luICsgcGFyc2VGbG9hdChiZXRBbW91bnQpICogOTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgMTQ6XHJcblx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gPVxyXG5cdFx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gKyBwYXJzZUZsb2F0KGJldEFtb3VudCkgKiAxMS41O1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSAxNTpcclxuXHRcdFx0XHRcdGN1cnJlbnRBbW91bnRPZldpbiA9XHJcblx0XHRcdFx0XHRcdGN1cnJlbnRBbW91bnRPZldpbiArIHBhcnNlRmxvYXQoYmV0QW1vdW50KSAqIDE0LjU7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIDE2OlxyXG5cdFx0XHRcdFx0Y3VycmVudEFtb3VudE9mV2luID0gY3VycmVudEFtb3VudE9mV2luICsgcGFyc2VGbG9hdChiZXRBbW91bnQpICogMTg7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIDE3OlxyXG5cdFx0XHRcdFx0Y3VycmVudEFtb3VudE9mV2luID1cclxuXHRcdFx0XHRcdFx0Y3VycmVudEFtb3VudE9mV2luICsgcGFyc2VGbG9hdChiZXRBbW91bnQpICogMjIuNTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgMTg6XHJcblx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gPSBjdXJyZW50QW1vdW50T2ZXaW4gKyBwYXJzZUZsb2F0KGJldEFtb3VudCkgKiAyODtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgMTk6XHJcblx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gPSBjdXJyZW50QW1vdW50T2ZXaW4gKyBwYXJzZUZsb2F0KGJldEFtb3VudCkgKiAzNTtcclxuXHRcdFx0XHRcdHBsYXllckNoZWNrQWxsKCk7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0XHRicmVhaztcclxuXHRcdGNhc2UgXCIxMlwiOlxyXG5cdFx0XHRzd2l0Y2ggKHBpY2tlZENvcnJlY3QpIHtcclxuXHRcdFx0XHRjYXNlIDE6XHJcblx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gPSBjdXJyZW50QW1vdW50T2ZXaW4gKyBwYXJzZUZsb2F0KGJldEFtb3VudCkgKiAwLjM7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIDI6XHJcblx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gPVxyXG5cdFx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gKyBwYXJzZUZsb2F0KGJldEFtb3VudCkgKiAwLjU1O1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSAzOlxyXG5cdFx0XHRcdFx0Y3VycmVudEFtb3VudE9mV2luID1cclxuXHRcdFx0XHRcdFx0Y3VycmVudEFtb3VudE9mV2luICsgcGFyc2VGbG9hdChiZXRBbW91bnQpICogMC44NTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgNDpcclxuXHRcdFx0XHRcdGN1cnJlbnRBbW91bnRPZldpbiA9XHJcblx0XHRcdFx0XHRcdGN1cnJlbnRBbW91bnRPZldpbiArIHBhcnNlRmxvYXQoYmV0QW1vdW50KSAqIDEuMjU7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIDU6XHJcblx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gPSBjdXJyZW50QW1vdW50T2ZXaW4gKyBwYXJzZUZsb2F0KGJldEFtb3VudCkgKiAxLjg7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIDY6XHJcblx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gPSBjdXJyZW50QW1vdW50T2ZXaW4gKyBwYXJzZUZsb2F0KGJldEFtb3VudCkgKiAyLjQ7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIDc6XHJcblx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gPSBjdXJyZW50QW1vdW50T2ZXaW4gKyBwYXJzZUZsb2F0KGJldEFtb3VudCkgKiAzLjI7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIDg6XHJcblx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gPSBjdXJyZW50QW1vdW50T2ZXaW4gKyBwYXJzZUZsb2F0KGJldEFtb3VudCkgKiA0LjI7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIDk6XHJcblx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gPSBjdXJyZW50QW1vdW50T2ZXaW4gKyBwYXJzZUZsb2F0KGJldEFtb3VudCkgKiA1LjU7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIDEwOlxyXG5cdFx0XHRcdFx0Y3VycmVudEFtb3VudE9mV2luID0gY3VycmVudEFtb3VudE9mV2luICsgcGFyc2VGbG9hdChiZXRBbW91bnQpICogNy4yO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSAxMTpcclxuXHRcdFx0XHRcdGN1cnJlbnRBbW91bnRPZldpbiA9IGN1cnJlbnRBbW91bnRPZldpbiArIHBhcnNlRmxvYXQoYmV0QW1vdW50KSAqIDkuNTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgMTI6XHJcblx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gPVxyXG5cdFx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gKyBwYXJzZUZsb2F0KGJldEFtb3VudCkgKiAxMi41O1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSAxMzpcclxuXHRcdFx0XHRcdGN1cnJlbnRBbW91bnRPZldpbiA9IGN1cnJlbnRBbW91bnRPZldpbiArIHBhcnNlRmxvYXQoYmV0QW1vdW50KSAqIDE3O1xyXG5cdFx0XHRcdFx0cGxheWVyQ2hlY2tBbGwoKTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSBcIjI0XCI6XHJcblx0XHRcdHN3aXRjaCAocGlja2VkQ29ycmVjdCkge1xyXG5cdFx0XHRcdGNhc2UgMTpcclxuXHRcdFx0XHRcdGN1cnJlbnRBbW91bnRPZldpbiA9IGN1cnJlbnRBbW91bnRPZldpbiArIHBhcnNlRmxvYXQoYmV0QW1vdW50KSAqIDI1O1xyXG5cdFx0XHRcdFx0cGxheWVyQ2hlY2tBbGwoKTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHRcdGJyZWFrO1xyXG5cdH1cclxuXHJcblx0d2luQW1vdW50LnRleHRDb250ZW50ID0gcGFyc2VGbG9hdChjdXJyZW50QW1vdW50T2ZXaW4pLnRvRml4ZWQoMikgKyBcIiRcIjtcclxufTtcclxuXHJcbmNvbnN0IHBsYXllckxvc3QgPSAoKSA9PiB7XHJcblx0ZmllbGRCZy5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xyXG5cdGZpZWxkQmcuc3R5bGUuY29sb3IgPSBcInJnYigyMzUsIDc1LCA3NSlcIjtcclxuXHRmaWVsZEJnLnRleHRDb250ZW50ID0gXCJZb3UgbG9zdFwiO1xyXG5cdHdpdGhkcmF3QnRuLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcblx0c3RhcnRCdG4uY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcclxuXHJcblx0d2luQW1vdW50LnRleHRDb250ZW50ID0gXCIwLjAwJFwiO1xyXG5cclxuXHRhbGxVbmRlckJveEFycmF5LmZvckVhY2goKGJveCkgPT4ge1xyXG5cdFx0aWYgKGJveC5maXJzdEVsZW1lbnRDaGlsZC5jbGFzc0xpc3QuY29udGFpbnMoXCJtaW5lc19faXRlbS1pbWdcIikpIHtcclxuXHRcdFx0Ym94LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImZsaXAtZG93blwiKTtcclxuXHRcdFx0Ym94LnBhcmVudEVsZW1lbnQuZmlyc3RFbGVtZW50Q2hpbGQuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuXHJcblx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdGJveC5wYXJlbnRFbGVtZW50Lmxhc3RFbGVtZW50Q2hpbGQuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcclxuXHRcdFx0XHRib3gucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZmxpcC11cFwiKTtcclxuXHRcdFx0fSwgMTAwKTtcclxuXHRcdH1cclxuXHR9KTtcclxuXHJcblx0cmVzZXRWYXJpYWJsZXMoKTtcclxufTtcclxuXHJcbmNvbnN0IHBsYXllckNoZWNrQWxsID0gKCkgPT4ge1xyXG5cdGZpZWxkQmcuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcclxuXHRmaWVsZEJnLnN0eWxlLmNvbG9yID0gXCJyZ2IoMTEzLCAyMTQsIDc3KVwiO1xyXG5cdGZpZWxkQmcudGV4dENvbnRlbnQgPSBcIllvdSBXb24gXCIgKyBjdXJyZW50QW1vdW50T2ZXaW4gKyBcIiRcIjtcclxuXHR3aXRoZHJhd0J0bi5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG5cdHN0YXJ0QnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcblxyXG5cdHdpbkFtb3VudC50ZXh0Q29udGVudCA9IFwiMC4wMCRcIjtcclxuXHJcblx0YWxsVW5kZXJCb3hBcnJheS5mb3JFYWNoKChib3gpID0+IHtcclxuXHRcdGlmIChib3guZmlyc3RFbGVtZW50Q2hpbGQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibWluZXNfX2l0ZW0taW1nXCIpKSB7XHJcblx0XHRcdGJveC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJmbGlwLWRvd25cIik7XHJcblx0XHRcdGJveC5wYXJlbnRFbGVtZW50LmZpcnN0RWxlbWVudENoaWxkLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcblxyXG5cdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRib3gucGFyZW50RWxlbWVudC5sYXN0RWxlbWVudENoaWxkLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcblx0XHRcdFx0Ym94LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImZsaXAtdXBcIik7XHJcblx0XHRcdH0sIDEwMCk7XHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG5cdHJlc2V0VmFyaWFibGVzKCk7XHJcbn07XHJcblxyXG5jb25zdCB3aXRoZHJhdyA9ICgpID0+IHtcclxuXHRpZiAoY3JlYXRlZEZpZWxkID09PSB0cnVlICYmIHBhcnNlRmxvYXQoY3VycmVudEFtb3VudE9mV2luKSA+IDApIHtcclxuXHRcdGNvbnN0IGFtb3VudFRvQWRkVG9CYWxhbmNlID1cclxuXHRcdFx0cGFyc2VGbG9hdChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIkJhbGFuY2VcIikpICtcclxuXHRcdFx0cGFyc2VGbG9hdChjdXJyZW50QW1vdW50T2ZXaW4pO1xyXG5cdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXHJcblx0XHRcdFwiQmFsYW5jZVwiLFxyXG5cdFx0XHRwYXJzZUZsb2F0KGFtb3VudFRvQWRkVG9CYWxhbmNlKS50b0ZpeGVkKDIpICsgXCIkXCJcclxuXHRcdCk7XHJcblxyXG5cdFx0c2V0QmFsYW5jZSgpO1xyXG5cdFx0cGxheWVyQ2hlY2tBbGwoKTtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCByZXNldFZhcmlhYmxlcyA9ICgpID0+IHtcclxuXHRjcmVhdGVkRmllbGQgPSBmYWxzZTtcclxuXHRjdXJyZW50QW1vdW50T2ZXaW4gPSAwO1xyXG5cdGJldEFtb3VudCA9IDA7XHJcblx0cGlja2VkQ29ycmVjdCA9IDA7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBzZXRQbGF5ZXJzQW1vdW50KCkge1xyXG5cdGFsbENoZWNrYm94ZXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG5cdFx0aXRlbS5jaGVja2VkID0gZmFsc2U7XHJcblx0fSk7XHJcblxyXG5cdHRoaXMuY2hlY2tlZCA9IHRydWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVzZUlucHV0QnRuKCkge1xyXG5cdHN3aXRjaCAodGhpcy5pZCkge1xyXG5cdFx0Y2FzZSBcImNsZWFyXCI6XHJcblx0XHRcdGJldElucHV0LnZhbHVlID0gXCIwXCI7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSBcIisxXCI6XHJcblx0XHRcdGJldElucHV0LnZhbHVlID0gcGFyc2VGbG9hdChiZXRJbnB1dC52YWx1ZSkgKyAxO1xyXG5cdFx0XHRicmVhaztcclxuXHRcdGNhc2UgXCIrMTBcIjpcclxuXHRcdFx0YmV0SW5wdXQudmFsdWUgPSBwYXJzZUZsb2F0KGJldElucHV0LnZhbHVlKSArIDEwO1xyXG5cdFx0XHRicmVhaztcclxuXHRcdGNhc2UgXCIrMTAwXCI6XHJcblx0XHRcdGJldElucHV0LnZhbHVlID0gcGFyc2VGbG9hdChiZXRJbnB1dC52YWx1ZSkgKyAxMDA7XHJcblx0XHRcdGJyZWFrO1xyXG5cdH1cclxufVxyXG5cclxuY29uc3QgYWRkRXZlbmV0TGlzdGVuZXJzID0gKCkgPT4ge1xyXG5cdGFsbEJveGVzLmZvckVhY2goKGl0ZW0pID0+IHtcclxuXHRcdGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHN3YXBVcCk7XHJcblx0fSk7XHJcblxyXG5cdGFsbENoZWNrYm94ZXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG5cdFx0aXRlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgc2V0UGxheWVyc0Ftb3VudCk7XHJcblx0fSk7XHJcblxyXG5cdGJldEJ0bi5mb3JFYWNoKChidG4pID0+IHtcclxuXHRcdGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdXNlSW5wdXRCdG4pO1xyXG5cdH0pO1xyXG5cclxuXHRzdGFydEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY3JlYXRlQW1vdW50T2ZNaW5lcyk7XHJcblx0d2l0aGRyYXdCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHdpdGhkcmF3KTtcclxufTtcclxuXHJcbmFkZEV2ZW5ldExpc3RlbmVycygpO1xyXG4iXX0=
